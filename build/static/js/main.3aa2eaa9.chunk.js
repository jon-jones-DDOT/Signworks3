(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{125:function(e,t,a){},128:function(e,t,a){},129:function(e,t,a){},130:function(e,t,a){},131:function(e,t,a){},153:function(e,t,a){},154:function(e,t,a){},155:function(e,t,a){},181:function(e,t,a){},182:function(e,t,a){},183:function(e,t,a){},184:function(e,t,a){},194:function(e,t,a){},195:function(e,t,a){},196:function(e,t,a){},197:function(e,t,a){},200:function(e,t,a){},201:function(e,t,a){},202:function(e,t,a){},208:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"watchStartAPI",function(){return Me});var r={};a.r(r),a.d(r,"watchFetchConfig",function(){return ke});var s={};a.r(s),a.d(s,"watchLayers",function(){return et});var i={};a.r(i),a.d(i,"watchSignOrder",function(){return rt});var o={};a.r(o),a.d(o,"watchLayers",function(){return ct});var c={};a.r(c),a.d(c,"watchLayers",function(){return dt});var l={};a.r(l),a.d(l,"watchSignOrder",function(){return Et});var u={};a.r(u),a.d(u,"watchLayers",function(){return yt});var p={};a.r(p),a.d(p,"watchQuery",function(){return Rt});var d={};a.r(d),a.d(d,"watchStreetSmart",function(){return Ct});var m={};a.r(m),a.d(m,"watchGoogleStreet",function(){return It});var h={};a.r(h),a.d(h,"watchLayers",function(){return jt});var S={};a.r(S),a.d(S,"watchStreetSmart",function(){return Ht});var E={};a.r(E),a.d(E,"watchMAR",function(){return Ft});var f={};a.r(f),a.d(f,"auth",function(){return I}),a.d(f,"config",function(){return De}),a.d(f,"map",function(){return Ge}),a.d(f,"graphic",function(){return Ke});var g=a(0),b=a.n(g),y=a(29),v=a.n(y),T=a(19),O=a(16),R=a(88),w=a(2),M=a.n(w),A=a(18),C=a(3),D=a(4),N={AUTH_SUCCESS:"AUTH_SUCCESS",AUTH_FAIL:"AUTH_FAIL",AUTH_CHECK:"AUTH_CHECK",LOGOUT:"LOGOUT"},_={user:null,loaded:!1,loggedIn:!1,isEditor:!1,isViewer:!1},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.AUTH_SUCCESS:var a=t.payload.user;return Object(D.a)({},e,{user:a,loaded:!0,loggedIn:!0,isEditor:t.payload.isEditor,isViewer:t.payload.isViewer,isDev:t.payload.isDev});case N.AUTH_FAIL:return Object(D.a)({},e,{user:null,loaded:!0,loggedIn:!1});default:return e}},P={checkAuth:function(e){return{type:N.AUTH_CHECK,payload:{config:e}}},logout:function(e){return{type:N.LOGOUT,payload:{portalUrl:e}}}};function k(e){return e.status>=200&&e.status<300?Promise.resolve(e):Promise.reject(new Error(e.statusText))}function x(e,t){return t?this.objectToFormData(e):function(e){var t=new URLSearchParams;for(var a in e)e.hasOwnProperty(a)&&t.append(a,e[a]);return t.has("f")||t.append("f","json"),t.toString()}(e)}function j(e){return new Promise(function(t,a){var n=e.url,r=e.data||{},s=function(e){var t={};return e||(t["content-type"]="application/x-www-form-urlencoded"),new Headers(t)}(e.isFormData),i={method:e.method||"get",headers:s};e.hideCredentials||(i.credentials="include");var o=x(r,e.isFormData);"get"===i.method?n="".concat(n,"?").concat(o):i.body=o,fetch(n,i).then(k).then(function(e,t){switch(e){case"text":return t.text();default:return t.json()}}.bind(null,e.handleAs)).then(function(e){e.error?a(e.error):t(e)}).catch(function(e){a(e)})})}function G(){return new Promise(function(e,t){j({url:"./config.json",method:"get"}).then(function(t){return e(t)})})}function U(e){return new Promise(function(t,a){j({url:"".concat(e,"/sharing/rest/oauth2/signout"),handleAs:"text"}).then(function(e){return t(e)},function(e){return a(e)})})}var L=a(53),H=a(11),W=a(12),V=a(7),B=a(9),F="\u202f",q=function(){function e(){Object(V.a)(this,e)}return Object(B.a)(e,null,[{key:"parse",value:function(e){if(!isNaN(parseFloat(e))&&isFinite(e))return Number(e);var t=String(e).trim().replace(/^-/,"").replace(/[NSEW]$/i,"").split(/[^0-9.,]+/);if(""===t[t.length-1]&&t.splice(t.length-1),""===t)return NaN;var a=null;switch(t.length){case 3:a=t[0]/1+t[1]/60+t[2]/3600;break;case 2:a=t[0]/1+t[1]/60;break;case 1:a=t[0];break;default:return NaN}return/^-|[WS]$/i.test(e.trim())&&(a=-a),Number(a)}},{key:"toDms",value:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"d",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(isNaN(t))return null;if("string"===typeof t&&""===t.trim())return null;if("boolean"===typeof t)return null;if(t===1/0)return null;if(null===t)return null;if(void 0===n)switch(a){case"d":case"deg":n=4;break;case"dm":case"deg+min":n=2;break;case"dms":case"deg+min+sec":n=0;break;default:a="d",n=4}t=Math.abs(t);var r=null,s=null,i=null,o=null;switch(a){default:case"d":case"deg":(s=t.toFixed(n))<100&&(s="0"+s),s<10&&(s="0"+s),r=s+"\xb0";break;case"dm":case"deg+min":s=Math.floor(t),60===(i=(60*t%60).toFixed(n))&&(i=(0).toFixed(n),s++),i<10&&(i="0"+i),r=(s=("000"+s).slice(-3))+"\xb0"+e.separator+i+"\u2032";break;case"dms":case"deg+min+sec":s=Math.floor(t),i=Math.floor(3600*t/60)%60,60===(o=(3600*t%60).toFixed(n))&&(o=(0).toFixed(n),i++),60===i&&(i=0,s++),s=("000"+s).slice(-3),i=("00"+i).slice(-2),o<10&&(o="0"+o),r=s+"\xb0"+e.separator+i+"\u2032"+e.separator+o+"\u2033"}return r}},{key:"toLat",value:function(t,a,n){var r=e.toDms(e.wrap90(t),a,n);return null===r?"\u2013":r.slice(1)+e.separator+(t<0?"S":"N")}},{key:"toLon",value:function(t,a,n){var r=e.toDms(e.wrap180(t),a,n);return null===r?"\u2013":r+e.separator+(t<0?"W":"E")}},{key:"toBrng",value:function(t,a,n){var r=e.toDms(e.wrap360(t),a,n);return null===r?"\u2013":r.replace("360","0")}},{key:"fromLocale",value:function(e){var t=123456.789.toLocaleString(),a={thousands:t.slice(3,4),decimal:t.slice(7,8)};return e.replace(a.thousands,"\u205c").replace(a.decimal,".").replace("\u205c",",")}},{key:"toLocale",value:function(e){var t=123456.789.toLocaleString(),a={thousands:t.slice(3,4),decimal:t.slice(7,8)};return e.replace(/,([0-9])/,"\u205c$1").replace(".",a.decimal).replace("\u205c",a.thousands)}},{key:"compassPoint",value:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(![1,2,3].includes(Number(a)))throw new RangeError("invalid precision \u2018".concat(a,"\u2019"));t=e.wrap360(t);var n=4*Math.pow(2,a-1);return["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"][Math.round(t*n/360)%n*16/n]}},{key:"wrap360",value:function(e){return 0<=e&&e<360?e:(e%360+360)%360}},{key:"wrap180",value:function(e){return-180<e&&e<=180?e:(e+540)%360-180}},{key:"wrap90",value:function(e){return-90<=e&&e<=90?e:Math.abs((e%360+270)%360-180)-90}},{key:"separator",get:function(){return F},set:function(e){F=e}}]),e}();Number.prototype.toRadians=function(){return this*Math.PI/180},Number.prototype.toDegrees=function(){return 180*this/Math.PI};var Y=q,K=Math.PI,Q=function(){function e(t,a){if(Object(V.a)(this,e),isNaN(t))throw new TypeError("invalid lat \u2018".concat(t,"\u2019"));if(isNaN(a))throw new TypeError("invalid lon \u2018".concat(a,"\u2019"));this._lat=Y.wrap90(t),this._lon=Y.wrap180(a)}return Object(B.a)(e,[{key:"distanceTo",value:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6371e3;if(t instanceof e||(t=e.parse(t)),isNaN(a))throw new TypeError("invalid radius \u2018".concat(a,"\u2019"));var n=a,r=this.lat.toRadians(),s=this.lon.toRadians(),i=t.lat.toRadians(),o=i-r,c=t.lon.toRadians()-s,l=Math.sin(o/2)*Math.sin(o/2)+Math.cos(r)*Math.cos(i)*Math.sin(c/2)*Math.sin(c/2);return n*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))}},{key:"initialBearingTo",value:function(t){if(t instanceof e||(t=e.parse(t)),this.equals(t))return NaN;var a=this.lat.toRadians(),n=t.lat.toRadians(),r=(t.lon-this.lon).toRadians(),s=Math.cos(a)*Math.sin(n)-Math.sin(a)*Math.cos(n)*Math.cos(r),i=Math.sin(r)*Math.cos(n),o=Math.atan2(i,s).toDegrees();return Y.wrap360(o)}},{key:"finalBearingTo",value:function(t){t instanceof e||(t=e.parse(t));var a=t.initialBearingTo(this)+180;return Y.wrap360(a)}},{key:"midpointTo",value:function(t){t instanceof e||(t=e.parse(t));var a=this.lat.toRadians(),n=this.lon.toRadians(),r=t.lat.toRadians(),s=(t.lon-this.lon).toRadians(),i=Math.cos(a),o=0,c=Math.sin(a),l={x:i+Math.cos(r)*Math.cos(s),y:o+Math.cos(r)*Math.sin(s),z:c+Math.sin(r)},u=Math.atan2(l.z,Math.sqrt(l.x*l.x+l.y*l.y)),p=n+Math.atan2(l.y,l.x);return new e(u.toDegrees(),p.toDegrees())}},{key:"intermediatePointTo",value:function(t,a){if(t instanceof e||(t=e.parse(t)),this.equals(t))return new e(this.lat,this.lon);var n=this.lat.toRadians(),r=this.lon.toRadians(),s=t.lat.toRadians(),i=t.lon.toRadians(),o=s-n,c=i-r,l=Math.sin(o/2)*Math.sin(o/2)+Math.cos(n)*Math.cos(s)*Math.sin(c/2)*Math.sin(c/2),u=2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)),p=Math.sin((1-a)*u)/Math.sin(u),d=Math.sin(a*u)/Math.sin(u),m=p*Math.cos(n)*Math.cos(r)+d*Math.cos(s)*Math.cos(i),h=p*Math.cos(n)*Math.sin(r)+d*Math.cos(s)*Math.sin(i),S=p*Math.sin(n)+d*Math.sin(s),E=Math.atan2(S,Math.sqrt(m*m+h*h)),f=Math.atan2(h,m);return new e(E.toDegrees(),f.toDegrees())}},{key:"destinationPoint",value:function(t,a){var n=t/(arguments.length>2&&void 0!==arguments[2]?arguments[2]:6371e3),r=Number(a).toRadians(),s=this.lat.toRadians(),i=this.lon.toRadians(),o=Math.sin(s)*Math.cos(n)+Math.cos(s)*Math.sin(n)*Math.cos(r),c=Math.asin(o),l=Math.sin(r)*Math.sin(n)*Math.cos(s),u=Math.cos(n)-Math.sin(s)*o,p=i+Math.atan2(l,u);return new e(c.toDegrees(),p.toDegrees())}},{key:"crossTrackDistanceTo",value:function(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6371e3;t instanceof e||(t=e.parse(t)),a instanceof e||(a=e.parse(a));var r=n,s=t.distanceTo(this,r)/r,i=t.initialBearingTo(this).toRadians(),o=t.initialBearingTo(a).toRadians();return Math.asin(Math.sin(s)*Math.sin(i-o))*r}},{key:"alongTrackDistanceTo",value:function(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6371e3;t instanceof e||(t=e.parse(t)),a instanceof e||(a=e.parse(a));var r=n,s=t.distanceTo(this,r)/r,i=t.initialBearingTo(this).toRadians(),o=t.initialBearingTo(a).toRadians(),c=Math.asin(Math.sin(s)*Math.sin(i-o));return Math.acos(Math.cos(s)/Math.abs(Math.cos(c)))*Math.sign(Math.cos(o-i))*r}},{key:"maxLatitude",value:function(e){var t=Number(e).toRadians(),a=this.lat.toRadians();return Math.acos(Math.abs(Math.sin(t)*Math.cos(a))).toDegrees()}},{key:"rhumbDistanceTo",value:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6371e3;t instanceof e||(t=e.parse(t));var n=a,r=this.lat.toRadians(),s=t.lat.toRadians(),i=s-r,o=Math.abs(t.lon-this.lon).toRadians();Math.abs(o)>K&&(o=o>0?-(2*K-o):2*K+o);var c=Math.log(Math.tan(s/2+K/4)/Math.tan(r/2+K/4)),l=Math.abs(c)>1e-11?i/c:Math.cos(r);return Math.sqrt(i*i+l*l*o*o)*n}},{key:"rhumbBearingTo",value:function(t){if(t instanceof e||(t=e.parse(t)),this.equals(t))return NaN;var a=this.lat.toRadians(),n=t.lat.toRadians(),r=(t.lon-this.lon).toRadians();Math.abs(r)>K&&(r=r>0?-(2*K-r):2*K+r);var s=Math.log(Math.tan(n/2+K/4)/Math.tan(a/2+K/4)),i=Math.atan2(r,s).toDegrees();return Y.wrap360(i)}},{key:"rhumbDestinationPoint",value:function(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6371e3,r=this.lat.toRadians(),s=this.lon.toRadians(),i=Number(a).toRadians(),o=t/n,c=o*Math.cos(i),l=r+c;Math.abs(l)>K/2&&(l=l>0?K-l:-K-l);var u=Math.log(Math.tan(l/2+K/4)/Math.tan(r/2+K/4)),p=Math.abs(u)>1e-11?c/u:Math.cos(r),d=s+o*Math.sin(i)/p;return new e(l.toDegrees(),d.toDegrees())}},{key:"rhumbMidpointTo",value:function(t){t instanceof e||(t=e.parse(t));var a=this.lat.toRadians(),n=this.lon.toRadians(),r=t.lat.toRadians(),s=t.lon.toRadians();Math.abs(s-n)>K&&(n+=2*K);var i=(a+r)/2,o=Math.tan(K/4+a/2),c=Math.tan(K/4+r/2),l=Math.tan(K/4+i/2),u=((s-n)*Math.log(l)+n*Math.log(c)-s*Math.log(o))/Math.log(c/o);return isFinite(u)||(u=(n+s)/2),new e(i.toDegrees(),u.toDegrees())}},{key:"equals",value:function(t){return t instanceof e||(t=e.parse(t)),!(Math.abs(this.lat-t.lat)>Number.EPSILON)&&!(Math.abs(this.lon-t.lon)>Number.EPSILON)}},{key:"toGeoJSON",value:function(){return{type:"Point",coordinates:[this.lon,this.lat]}}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"d",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(!["d","dm","dms","n"].includes(e))throw new RangeError("invalid format \u2018".concat(e,"\u2019"));if("n"===e)return void 0===t&&(t=4),"".concat(this.lat.toFixed(t),",").concat(this.lon.toFixed(t));var a=Y.toLat(this.lat,e,t),n=Y.toLon(this.lon,e,t);return"".concat(a,", ").concat(n)}},{key:"lat",get:function(){return this._lat},set:function(e){if(this._lat=isNaN(e)?Y.wrap90(Y.parse(e)):Y.wrap90(e),isNaN(this._lat))throw new TypeError("invalid lat \u2018".concat(e,"\u2019"))}},{key:"latitude",get:function(){return this._lat},set:function(e){if(this._lat=isNaN(e)?Y.wrap90(Y.parse(e)):Y.wrap90(e),isNaN(this._lat))throw new TypeError("invalid latitude \u2018".concat(e,"\u2019"))}},{key:"lon",get:function(){return this._lon},set:function(e){if(this._lon=isNaN(e)?Y.wrap180(Y.parse(e)):Y.wrap180(e),isNaN(this._lon))throw new TypeError("invalid lon \u2018".concat(e,"\u2019"))}},{key:"lng",get:function(){return this._lon},set:function(e){if(this._lon=isNaN(e)?Y.wrap180(Y.parse(e)):Y.wrap180(e),isNaN(this._lon))throw new TypeError("invalid lng \u2018".concat(e,"\u2019"))}},{key:"longitude",get:function(){return this._lon},set:function(e){if(this._lon=isNaN(e)?Y.wrap180(Y.parse(e)):Y.wrap180(e),isNaN(this._lon))throw new TypeError("invalid longitude \u2018".concat(e,"\u2019"))}}],[{key:"parse",value:function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];if(0===a.length)throw new TypeError("invalid (empty) point");if(null===a[0]||null===a[1])throw new TypeError("invalid (null) point");var r=void 0,s=void 0;if(2===a.length&&(r=a[0],s=a[1],r=Y.wrap90(Y.parse(r)),s=Y.wrap180(Y.parse(s)),isNaN(r)||isNaN(s)))throw new TypeError("invalid point \u2018".concat(a.toString(),"\u2019"));if(1===a.length&&"string"==typeof a[0]){var i=a[0].split(","),o=Object(H.a)(i,2);if(r=o[0],s=o[1],r=Y.wrap90(Y.parse(r)),s=Y.wrap180(Y.parse(s)),isNaN(r)||isNaN(s))throw new TypeError("invalid point \u2018".concat(a[0],"\u2019"))}if(1===a.length&&"object"==typeof a[0]){var c=a[0];if("Point"===c.type&&Array.isArray(c.coordinates)){var l=Object(H.a)(c.coordinates,2);s=l[0],r=l[1]}else void 0!==c.latitude&&(r=c.latitude),void 0!==c.lat&&(r=c.lat),void 0!==c.longitude&&(s=c.longitude),void 0!==c.lng&&(s=c.lng),void 0!==c.lon&&(s=c.lon),r=Y.wrap90(Y.parse(r)),s=Y.wrap180(Y.parse(s));if(isNaN(r)||isNaN(s))throw new TypeError("invalid point \u2018".concat(JSON.stringify(a[0]),"\u2019"))}if(isNaN(r)||isNaN(s))throw new TypeError("invalid point \u2018".concat(a.toString(),"\u2019"));return new e(r,s)}},{key:"intersection",value:function(t,a,n,r){if(t instanceof e||(t=e.parse(t)),n instanceof e||(n=e.parse(n)),isNaN(a))throw new TypeError("invalid brng1 \u2018".concat(a,"\u2019"));if(isNaN(r))throw new TypeError("invalid brng2 \u2018".concat(r,"\u2019"));var s=t.lat.toRadians(),i=t.lon.toRadians(),o=n.lat.toRadians(),c=n.lon.toRadians(),l=Number(a).toRadians(),u=Number(r).toRadians(),p=o-s,d=c-i,m=2*Math.asin(Math.sqrt(Math.sin(p/2)*Math.sin(p/2)+Math.cos(s)*Math.cos(o)*Math.sin(d/2)*Math.sin(d/2)));if(Math.abs(m)<Number.EPSILON)return new e(t.lat,t.lon);var h=(Math.sin(o)-Math.sin(s)*Math.cos(m))/(Math.sin(m)*Math.cos(s)),S=(Math.sin(s)-Math.sin(o)*Math.cos(m))/(Math.sin(m)*Math.cos(o)),E=Math.acos(Math.min(Math.max(h,-1),1)),f=Math.acos(Math.min(Math.max(S,-1),1)),g=l-(Math.sin(c-i)>0?E:2*K-E),b=(Math.sin(c-i)>0?2*K-f:f)-u;if(0===Math.sin(g)&&0===Math.sin(b))return null;if(Math.sin(g)*Math.sin(b)<0)return null;var y=-Math.cos(g)*Math.cos(b)+Math.sin(g)*Math.sin(b)*Math.cos(m),v=Math.atan2(Math.sin(m)*Math.sin(g)*Math.sin(b),Math.cos(b)+Math.cos(g)*y),T=Math.asin(Math.sin(s)*Math.cos(v)+Math.cos(s)*Math.sin(v)*Math.cos(l)),O=i+Math.atan2(Math.sin(l)*Math.sin(v)*Math.cos(s),Math.cos(v)-Math.sin(s)*Math.sin(T));return new e(T.toDegrees(),O.toDegrees())}},{key:"crossingParallels",value:function(e,t,a){if(e.equals(t))return null;var n=Number(a).toRadians(),r=e.lat.toRadians(),s=e.lon.toRadians(),i=t.lat.toRadians(),o=t.lon.toRadians()-s,c=Math.sin(r)*Math.cos(i)*Math.cos(n)*Math.sin(o),l=Math.sin(r)*Math.cos(i)*Math.cos(n)*Math.cos(o)-Math.cos(r)*Math.sin(i)*Math.cos(n),u=Math.cos(r)*Math.cos(i)*Math.sin(n)*Math.sin(o);if(u*u>c*c+l*l)return null;var p=Math.atan2(-l,c),d=Math.acos(u/Math.sqrt(c*c+l*l)),m=s+p+d,h=(s+p-d).toDegrees(),S=m.toDegrees();return{lon1:Y.wrap180(h),lon2:Y.wrap180(S)}}},{key:"areaOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6371e3,a=e[0].equals(e[e.length-1]);a||e.push(e[0]);for(var n=e.length-1,r=0,s=0;s<n;s++){var i=e[s].lat.toRadians(),o=e[s+1].lat.toRadians(),c=(e[s+1].lon-e[s].lon).toRadians();r+=2*Math.atan2(Math.tan(c/2)*(Math.tan(i/2)+Math.tan(o/2)),1+Math.tan(i/2)*Math.tan(o/2))}(function(e){for(var t=0,a=e[0].initialBearingTo(e[1]),n=0;n<e.length-1;n++){var r=e[n].initialBearingTo(e[n+1]),s=e[n].finalBearingTo(e[n+1]);t+=(r-a+540)%360-180,t+=(s-r+540)%360-180,a=s}var i=e[0].initialBearingTo(e[1]);return t+=(i-a+540)%360-180,Math.abs(t)<90})(e)&&(r=Math.abs(r)-2*K);var l=Math.abs(r*t*t);return a||e.pop(),l}},{key:"metresToKm",get:function(){return.001}},{key:"metresToMiles",get:function(){return 1/1609.344}},{key:"metresToNauticalMiles",get:function(){return 1/1852}}]),e}(),z=M.a.mark(he);function J(e){var t=e[0],a={query:"title:"+e[1],num:50};return new Promise(function(e,n){t.queryGroups(a).then(function(t){return e(t)},function(e){return n(e)})})}function X(e){return e.auth.isDev?e.config.featureURLs_dev_edit:e.auth.isEditor?e.config.featureURLs_prod_edit:e.auth.isViewer?e.config.featureURLs_view:null}function Z(e){var t=e[0],a=e[1],n=e[2];return new Promise(function(e,r){Object(W.loadModules)(["esri/request"]).then(function(s){(0,Object(H.a)(s,1)[0])(a+"/query",{query:{where:"OBJECTID = "+t,returnGeometry:!0,outFields:"*",token:null,f:"json",outSR:n}}).then(function(t){return e(t)},function(e){return r(e)})})})}function $(e){return new Promise(function(t,a){var n=e[0],r=e[1],s=e[2],i=e[3];Object(W.loadModules)(["esri/request"]).then(function(e){(0,Object(H.a)(e,1)[0])(r+"/query",{query:{geometry:JSON.stringify(n),where:i,returnGeometry:!0,outFields:"*",token:null,f:"json",outSR:s}}).then(function(e){return t(e)},function(e){return a(e)})})})}function ee(e){return new Promise(function(t,a){var n=e[0],r=e[1];Object(W.loadModules)(["esri/request"]).then(function(e){(0,Object(H.a)(e,1)[0])(r+"/query",{query:{where:"SUPPORTID='"+n.attributes.GLOBALID+"'",orderByFields:"SIGNORDER",outFields:"*",token:null,f:"json"}}).then(function(e){return t(e)},function(e){return a(e)})})})}function te(e){var t=e[1];return new Promise(function(a,n){Object(W.loadModules)(["esri/request"]).then(function(r){(0,Object(H.a)(r,1)[0])(t+"/query",{query:{where:"SIGNID='"+e[0].attributes.GLOBALID+"'",outFields:"*",token:null,f:"json"}}).then(function(e){return a(e)},function(e){return n(e)})})})}function ae(e){for(var t=e[0],a=e[1],n=[],r=0;r<t.length;r++)n.push(t[r].feature);return new Promise(function(e,t){Object(W.loadModules)(["esri/request"]).then(function(r){(0,Object(H.a)(r,1)[0])(a+"/applyEdits",{method:"post",query:{f:"json",updates:JSON.stringify(n)}}).then(function(t){return e(t)},function(e){return t(e)})})})}function ne(e){var t=e[0],a=e[1],n=e[2];return new Promise(function(e,r){Object(W.loadModules)(["esri/request"]).then(function(s){var i=Object(H.a)(s,1)[0],o=null;o=a?{f:"json",adds:JSON.stringify([t])}:{f:"json",updates:JSON.stringify([t])},i(n+"/applyEdits",{method:"post",query:o}).then(function(t){return e(t)},function(e){return r(e)})})})}function re(e){var t=e[0].editBands,a=e[0].newBands,n=e[0].deleteBands,r=e[1].timebands+"/applyEdits",s={f:"json",adds:JSON.stringify(a),updates:JSON.stringify(t),deletes:JSON.stringify(n)};return new Promise(function(e,t){Object(W.loadModules)(["esri/request"]).then(function(a){(0,Object(H.a)(a,1)[0])(r,{method:"post",query:s}).then(function(t){return e(t)},function(e){return t(e)})})})}function se(e){var t=e[0].sign,a=e[1],n=e[2].signs+"/applyEdits",r=null;return r=a?{f:"json",adds:JSON.stringify([t])}:{f:"json",updates:JSON.stringify([t])},new Promise(function(e,t){Object(W.loadModules)(["esri/request"]).then(function(a){(0,Object(H.a)(a,1)[0])(n,{method:"post",query:r}).then(function(t){return e(t)},function(e){return t(e)})})})}function ie(e){var t=e[0],a=e[1],n=e[2];return new Promise(function(e,r){Object(W.loadModules)(["esri/layers/FeatureLayer"]).then(function(s){var i=new(0,Object(H.a)(s,1)[0])({url:n}),o=i.createQuery();o.where=t,o.geometry=a,o.returnGeometry=!0,o.outSpatialReference={wkid:102100},i.queryExtent(o).then(function(t){return e(t)},function(e){return r(e)})})})}function oe(e){var t=e[0],a=e[1],n=e[2];return new Promise(function(e,r){Object(W.loadModules)(["esri/layers/FeatureLayer"]).then(function(s){var i=new(0,Object(H.a)(s,1)[0])({url:n}),o=i.createQuery();o.where=t,o.geometry=a,o.returnGeometry=!0,o.outSpatialReference={wkid:102100},i.queryFeatures(o).then(function(t){return e(t)},function(e){return r(e)})})})}function ce(e){var t=e[0],a=e[1],n=e[2],r=e[3];return new Promise(function(e,s){Object(W.loadModules)(["esri/tasks/GeometryService","esri/tasks/support/ProjectParameters","esri/geometry/Point","esri/geometry/SpatialReference"]).then(function(i){for(var o=Object(H.a)(i,4),c=o[0],l=o[1],u=o[2],p=o[3],d=new p(r),m=new c({url:a}),h=new p(n),S=[],E=0;E<t.length;E++){var f=new u({latitude:t[E].y,longitude:t[E].x,spatialReference:h});S.push(f)}var g=new l({geometries:S,outSpatialReference:d});m.project(g).then(function(t){return e(t)},function(e){return s(e)})})})}function le(e){var t=e[0],a=e[1],n=e[2],r=e[3],s=e[4];return new Promise(function(e,i){Object(W.loadModules)(["esri/geometry/Extent","esri/geometry/support/webMercatorUtils"]).then(function(o){var c=Object(H.a)(o,2),l=c[0],u=c[1];try{var p=null;p=r.spatialReference&&102100===r.spatialReference.wkid?r:u.geographicToWebMercator(r);var d=s*(a/t),m=new l(p.x-d,p.y-d,p.x+d,p.y+d,n);e(m)}catch(h){i(h)}})})}function ue(e){return new Promise(function(t,a){Object(W.loadModules)(["esri/tasks/support/FeatureSet"]).then(function(n){var r=Object(H.a)(n,1)[0];try{t(new r({features:e[0]}))}catch(s){a(s)}})})}function pe(e){var t=e[0],a=e[1],n=e[2],r=e[3];return new Promise(function(e,s){Object(W.loadModules)(["esri/request"]).then(function(i){(0,Object(H.a)(i,1)[0])(a+"/getPointOnRoute",{query:{x:t.geometry.x,y:t.geometry.y,inSR:n,outSR:r,searchRadius:50,f:"json"}}).then(function(t){return e(t)},function(e){return s(e)})})})}function de(e){var t=e[0],a=e[1],n=t.y,r=a.y,s=t.x,i=a.x,o=Math.cos(n*Math.PI/180),c=(i*=o)-(s*=o),l=r-n;return Math.abs(c)<1e-9?l<0?180:0:180*Math.atan2(c,l)/Math.PI}function me(e){var t,a=e[0][0],n=e[1],r=e[2],s=e[3],i=e[4];if("StreetSmart"===i&&(s/=2),t="StreetSmart"===i?"blue":"green","undefined"!=typeof a)return new Promise(function(e,i){Object(W.loadModules)(["esri/Graphic","esri/geometry/Polygon","esri/geometry/Point","esri/symbols/SimpleFillSymbol","esri/symbols/SimpleLineSymbol","esri/symbols/SimpleMarkerSymbol","esri/Color"]).then(function(o){var c=Object(H.a)(o,7),l=c[0],u=c[1],p=c[2],d=c[3],m=c[4],h=c[5],S=c[6];try{var E=new p({x:a.x,y:a.y}),f=new h({style:"triangle",color:"black",size:"10px"}),g=new d(d.STYLE_SOLID,new m(m.STYLE_SOLID,new S("#FFFFFF"),2),new S(t));f.angle=r;var b=45;b-=Math.abs(n)/2;var y=new Q(E.y,E.x),v=r-s;v<0&&(v+=360);var T=r+s;T>360&&(T-=360);var O=y.destinationPoint(b,v),R=y.destinationPoint(b,T),w={rings:[[[E.x,E.y],[O.lon,O.lat],[R.lon,R.lat]]],spatialReference:{wkid:4326}};g.color.a=.5-.01*n/2;var M=new l(new u(w),g),A=new l(E,f);e([M,A])}catch(C){i(C)}})})}function he(e){return M.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(C.b)(Se,[e]);case 2:case"end":return t.stop()}},z)}function Se(e){return Ee.apply(this,arguments)}function Ee(){return(Ee=Object(L.a)(M.a.mark(function e(t){var a,n,r;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="http://ddotgisapp01/SignCatalog/api/mutcd?code="+t[0],e.prev=1,e.next=4,fetch(a);case 4:if(!(n=e.sent).ok){e.next=10;break}return e.next=8,n.json();case 8:return r=e.sent,e.abrupt("return",r);case 10:e.next=16;break;case 12:throw e.prev=12,e.t0=e.catch(1),console.error("Something went wrong"),new Error("Bad stuff happened.");case 16:case"end":return e.stop()}},e,null,[[1,12]])}))).apply(this,arguments)}function fe(){return ge.apply(this,arguments)}function ge(){return(ge=Object(L.a)(M.a.mark(function e(){var t,a;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"http://ddotgisapp01/SignCatalog/api/ActiveMutcd",e.prev=1,e.next=4,fetch("http://ddotgisapp01/SignCatalog/api/ActiveMutcd");case 4:if(!(t=e.sent).ok){e.next=10;break}return e.next=8,t.json();case 8:return a=e.sent,e.abrupt("return",a);case 10:e.next=16;break;case 12:throw e.prev=12,e.t0=e.catch(1),console.error("Something went wrong"),new Error("Bad stuff happened.");case 16:case"end":return e.stop()}},e,null,[[1,12]])}))).apply(this,arguments)}function be(e){return ye.apply(this,arguments)}function ye(){return(ye=Object(L.a)(M.a.mark(function e(t){var a,n,r;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"http://ddotgisapp02/proxy/proxy.ashx?",a="http://ddotgisapp02/proxy/proxy.ashx?http://citizenatlas.dc.gov/newwebservices/locationverifier.asmx","address"===t[1]&&(a+="/findLocation2?f=json&str="+t[0]),e.prev=3,e.next=6,fetch(a);case 6:if(!(n=e.sent).ok){e.next=12;break}return e.next=10,n.json();case 10:return r=e.sent,e.abrupt("return",r);case 12:e.next=18;break;case 14:throw e.prev=14,e.t0=e.catch(3),console.error("Something went wrong with MAR"),new Error("Bad stuff happened. In MAR");case 18:case"end":return e.stop()}},e,null,[[3,14]])}))).apply(this,arguments)}var ve=M.a.mark(Re),Te=M.a.mark(we),Oe=M.a.mark(Me);function Re(e){var t,a,n,r;return M.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,t=!1,a=!1,n=!1,s.next=6,Object(C.b)(window.authManager.login,e.payload.config.portalUrl);case 6:return r=s.sent,s.next=9,Object(C.b)(J,[r.portal,"Signworks Editors"]);case 9:if(!(s.sent.results.length>0)){s.next=15;break}t=!0,a=!0,s.next=20;break;case 15:return s.next=17,Object(C.b)(J,[r.portal,"Signworks Viewers"]);case 17:s.sent,t=!1,a=!0;case 20:if("dev"===e.payload.config.release&&(n=!0),!r){s.next=26;break}return s.next=24,Object(C.d)({type:N.AUTH_SUCCESS,payload:{user:r,isEditor:t,isViewer:a,isDev:n}});case 24:s.next=28;break;case 26:return s.next=28,Object(C.d)({type:N.AUTH_FAIL});case 28:s.next=35;break;case 30:return s.prev=30,s.t0=s.catch(0),s.next=34,Object(C.d)({type:N.AUTH_FAIL});case 34:console.error("SAGA ERROR: auth/checkAuth, ",s.t0);case 35:case"end":return s.stop()}},ve,null,[[0,30]])}function we(e){return M.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(C.b)(window.authManager.logout);case 3:return t.next=5,Object(C.b)(U,e.payload.portalUrl);case 5:window.location.reload(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("SAGA ERROR: auth/logout, ",t.t0);case 11:case"end":return t.stop()}},Te,null,[[0,8]])}function Me(){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.e)(N.AUTH_CHECK,Re);case 2:return e.next=4,Object(C.e)(N.LOGOUT,we);case 4:case"end":return e.stop()}},Oe)}var Ae={SET_CONFIG:"SET_CONFIG",CONFIG_FETCH:"CONFIG_FETCH"},Ce={loaded:!1},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae.SET_CONFIG:return Object(D.a)({},e,t.payload,{loaded:!0});default:return e}},Ne={fetchConfig:function(){return{type:Ae.CONFIG_FETCH}}},_e=M.a.mark(Pe),Ie=M.a.mark(ke);function Pe(e){var t;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(C.b)(G);case 3:return t=e.sent,e.next=6,Object(C.d)({type:Ae.SET_CONFIG,payload:t});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("SAGA ERRROR: config/fetchConfig, ",e.t0);case 11:case"end":return e.stop()}},_e,null,[[0,8]])}function ke(){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.e)(Ae.CONFIG_FETCH,Pe);case 2:case"end":return e.stop()}},Ie)}var xe={MAP_LOADED_S:"MAP_LOADED_S",SELECT_SUPPORT_S:"SELECT_SUPPORT_S",MAP_CHANGED_RM:"MAP_CHANGED_RM",SET_SELECTED_SUPPORT_RM:"SET_SELECTED_SUPPORT_RM",SIGN_ORDER_CHANGED_S:"SIGN_ORDER_CHANGED_S",MODAL_CLICKED_RM:"MODAL_CLICKED_RM",SAVE_SUPPORT_S:"SAVE_SUPPORT_S",SAVE_SIGN_S:"SAVE_SIGN_S",NEW_SIGN_S:"NEW_SIGN_S",NEW_SUPPORT_S:"NEW_SUPPORT_S",INIT_RM:"INIT_RM",SHOW_RETIRED_SIGNS_RM:"SHOW_RETIRED_SIGNS_RM",SHOW_RETIRED_POSTS_RM:"SHOW_RETIRED_POSTS_RM"},je={loaded:!1,showModal:!1,currentModal:null,support:null,signs:null,okDisabled:!1,showOk:!0,editSignIndex:NaN,muttArray:[],extent:null,retiredSigns:!1,retiredPosts:0},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xe.INIT_RM:return Object(D.a)({},e,t.payload,{loaded:!0});case xe.SET_SELECTED_SUPPORT_RM:case xe.MODAL_CLICKED_RM:case xe.MAP_CHANGED_RM:case xe.SHOW_RETIRED_SIGNS_RM:case xe.SHOW_RETIRED_POSTS_RM:return Object(D.a)({},e,t.payload);default:return e}},Ue={mapLoaded:function(e){return{type:xe.MAP_LOADED_S,payload:{extent:e}}},mapChanged:function(e){return{type:xe.MAP_CHANGED_RM,payload:{extent:e}}},selectSupport:function(e,t){return{type:xe.SELECT_SUPPORT_S,payload:{geom:e,layers:t}}},signOrderChanged:function(e,t,a){return{type:xe.SIGN_ORDER_CHANGED_S,payload:{features:e,support:t,layers:a}}},modalClicked:function(e,t,a){return{type:xe.MODAL_CLICKED_RM,payload:{showModal:e,currentModal:t,editSignIndex:a}}},saveSupport:function(e,t){return{type:xe.SAVE_SUPPORT_S,payload:{support:e,layers:t}}},saveSign:function(e,t,a){return{type:xe.SAVE_SIGN_S,payload:{support:e,sign:t,layers:a}}},newSign:function(e,t,a){return{type:xe.NEW_SIGN_S,payload:{support:e,sign:t,layers:a}}},newSupport:function(e,t,a){return{type:xe.NEW_SUPPORT_S,payload:{support:e,auth:t,layers:a}}},showRetiredSigns:function(e){return{type:xe.SHOW_RETIRED_SIGNS_RM,payload:{retiredSigns:e}}},showRetiredPosts:function(e){return{type:xe.SHOW_RETIRED_POSTS_RM,payload:{retiredPosts:e}}}},Le=(a(101),function e(){var t=this;Object(V.a)(this,e),this.name=function(e,a){if(null===e)return null;var n="but";switch(a){case"SUPPORTTYPE":n=t._codedValuesSupportType;break;case"SUPPORTSTATUS":n=t._codedValuesSupportStatus;break;default:n=null}try{for(var r=0;r<n.length;r++)if(n[r].code===e)return n[r].name;return"coded domain is broken"}catch(s){alert(s.message)}},this._codedValuesSupportType=[{name:"U-Post",code:8},{name:"Square Steel Post",code:9},{name:"Utility Post",code:10},{name:"Wall/Fence",code:11},{name:"Bridge",code:12},{name:"Overhead Structure",code:13},{name:"Other Support",code:14},{name:"Meter Post (Single)",code:15},{name:"Meter Post (Double)",code:16},{name:"Meter Kiosk (Multi)",code:17},{name:"Combo (Signal and Streetlight)",code:1},{name:"Signal",code:2},{name:"Wood Post 4x4",code:4},{name:"Streetlight",code:6}],this._codedValuesSupportType0=[{name:"",code:0},{name:"U-Post",code:8},{name:"Square Steel Post",code:9},{name:"Utility Post",code:10},{name:"Wall/Fence",code:11},{name:"Bridge",code:12},{name:"Overhead Structure",code:13},{name:"Other Support",code:14},{name:"Meter Post (Single)",code:15},{name:"Meter Post (Double)",code:16},{name:"Meter Kiosk (Multi)",code:17},{name:"Combo (Signal and Streetlight)",code:1},{name:"Signal",code:2},{name:"Wood Post 4x4",code:4},{name:"Streetlight",code:6}],this._codedValuesSupportStatus=[{name:"Active",code:1},{name:"Retired",code:5}]}),He=function e(){var t=this;Object(V.a)(this,e),this.name=function(e,a){if(null===e)return null;var n="but";switch(a){case"TIMEBAND_START_DAYS":n=t._codedValuesTimebandStartDays;break;case"TIMEBAND_END_DAYS":n=t._codedValuesTimebandEndDays;break;case"TIMEBAND_HOURS":n=t._codedValuesTimebandHours;break;case"TIMEBAND_HOUR_LIMITS":n=t._codedValuesHourLimits;break;default:n=null}try{for(var r=0;r<n.length;r++)if(n[r].code===e)return n[r].name;return"coded domain is broken "+a+" "+e}catch(s){alert("this error in SignType in SignWorksJSON"+s.message)}},this._codedValuesTimebandStartDays=[{name:"Monday",code:1},{name:"Tuesday",code:2},{name:"Wednesday",code:3},{name:"Thursday",code:4},{name:"Friday",code:5},{name:"Saturday",code:6},{name:"Sunday",code:7},{name:"ANYTIME",code:8},{name:"Schooldays",code:9}],this._codedValuesTimebandEndDays=[{code:0,name:""},{name:"Monday",code:1},{name:"Tuesday",code:2},{name:"Wednesday",code:3},{name:"Thursday",code:4},{name:"Friday",code:5},{name:"Saturday",code:6},{name:"Sunday",code:7}],this._codedValuesTimebandHours=[{code:"",name:""},{name:"0400A",code:1},{name:"0415A",code:2},{name:"0430A",code:3},{name:"0445A",code:4},{name:"0500A",code:5},{name:"0515A",code:6},{name:"0530A",code:7},{name:"0545A",code:8},{name:"0600A",code:9},{name:"0615A",code:10},{name:"0630A",code:11},{name:"0645A",code:12},{name:"0700A",code:13},{name:"0715A",code:14},{name:"0730A",code:15},{name:"0745A",code:16},{name:"0800A",code:17},{name:"0815A",code:18},{name:"0830A",code:19},{name:"0845A",code:20},{name:"0900A",code:21},{name:"0915A",code:22},{name:"0930A",code:23},{name:"0945A",code:24},{name:"1000A",code:25},{name:"1015A",code:26},{name:"1030A",code:27},{name:"1045A",code:28},{name:"1100A",code:29},{name:"1115A",code:30},{name:"1130A",code:31},{name:"1145A",code:32},{name:"1200P",code:33},{name:"1215P",code:34},{name:"1230P",code:35},{name:"1245P",code:36},{name:"0100P",code:37},{name:"0115P",code:38},{name:"0130P",code:39},{name:"0145P",code:40},{name:"0200P",code:41},{name:"0215P",code:42},{name:"0230P",code:43},{name:"0245P",code:44},{name:"0300P",code:45},{name:"0315P",code:46},{name:"0330P",code:47},{name:"0345P",code:48},{name:"0400P",code:49},{name:"0415P",code:50},{name:"0430P",code:51},{name:"0445P",code:52},{name:"0500P",code:53},{name:"0515P",code:54},{name:"0530P",code:55},{name:"0545P",code:56},{name:"0600P",code:57},{name:"0615P",code:58},{name:"0630P",code:59},{name:"0645P",code:60},{name:"0700P",code:61},{name:"0715P",code:62},{name:"0730P",code:63},{name:"0745P",code:64},{name:"0800P",code:65},{name:"0815P",code:66},{name:"0830P",code:67},{name:"0845P",code:68},{name:"0900P",code:69},{name:"0915P",code:70},{name:"0930P",code:71},{name:"0945P",code:72},{name:"1000P",code:73},{name:"1015P",code:74},{name:"1030P",code:75},{name:"1045P",code:76},{name:"1100P",code:77},{name:"1115P",code:78},{name:"1130P",code:79},{name:"1145P",code:80},{name:"1200A",code:81},{name:"1215A",code:82},{name:"1230A",code:83},{name:"1245A",code:84},{name:"0100A",code:85},{name:"0115A",code:86},{name:"0130A",code:87},{name:"0145A",code:88},{name:"0200A",code:89},{name:"0215A",code:90},{name:"0230A",code:91},{name:"0245A",code:92},{name:"0300A",code:93},{name:"0315A",code:94},{name:"0330A",code:95},{name:"0345A",code:96},{name:"BLANK",code:97},{name:"BLANK",code:98},{name:"BLANK",code:99},{name:"ANYTIME",code:100},{name:" ",code:0}],this._codedValuesHourLimits=[{code:0,name:"    "},{code:.25,name:"15 min"},{code:.5,name:"30 min"},{code:1,name:"1 hour"},{code:1.5,name:"1.5 hour"},{code:2,name:"2 hour"},{code:2.5,name:"2.5 hour"},{code:3,name:"3 hour"},{code:3.5,name:"3.5 hour"},{code:4,name:"4 hour"},{code:4.5,name:"4.5 hour"},{code:5,name:"5 hour"}],this._codedValuesSpeedLimit=[{code:0,name:" "},{code:5,name:"5"},{code:10,name:"10"},{code:15,name:"15"},{code:20,name:"20"},{code:25,name:"25"},{code:30,name:"30"},{code:35,name:"35"},{code:40,name:"40"},{code:45,name:"45"},{code:50,name:"50"},{code:55,name:"55"},{code:60,name:"60"},{code:65,name:"65"},{code:70,name:"70"}],this._codedValuesSignStatus=[{name:"Active",code:1},{name:"Retired",code:5}],this._codedValuesWards=[{code:"",name:""},{code:1,name:"1"},{code:2,name:"2"},{code:3,name:"3"},{code:4,name:"4"},{code:5,name:"5"},{code:6,name:"6"},{code:7,name:"7"},{code:8,name:"8"}],this._codedValuesAnc=[{code:"",name:""},{code:"A",name:"A"},{code:"B",name:"B"},{code:"C",name:"C"},{code:"D",name:"D"},{code:"E",name:"E"},{code:"F",name:"F"},{code:"G",name:"G"}]};function We(e){return e.map(function(e,t){return b.a.createElement("option",{key:"item-".concat(t),value:e.code},e.name)})}var Ve={NO_LEFT_PANE:0,SS_VIEW_FIRST:1,SS_VIEW_REPEAT:2,SS_ADD_FIRST:3,SS_ADD_REPEAT:4,GOOGLE_FIRST:5,GOOGLE_REPEAT:6},Be=["R2-1","R2-1(5)","R2-1(10)","R2-1(15)","R2-1(20)","R2-1(25)","R2-1(30)","R2-1(35)","R2-1(40)","R2-1(45)","R2-1(50)","R2-1(55)","R2-1(60)","R2-1(65)","R2-1(70)","R2-1(75)","R2-2","R2-2P","R2-3","R2-3P","R2-4","R2-4P","R2-4A","R2-5B","S5-1","W1-1A","W1-1AL","W1-1AR","W1-2A","W1-2AL","W1-2AR","W13-1","W13-1(10)","W13-1(15)","W13-1(20)","W13-1(25)","W13-1(30)","W13-1(35)","W13-1(40)","W13-1(45)","W13-1(50)","W13-1(55)","W13-2","W13-3","W13-5","W13-6","W13-7"],Fe={SET_SUPPORT_MARKER_RG:"SET_SUPPORT_MARKER_RG",QUERY_SUPERQUERY_S:"QUERY_SUPERQUERY_S",SET_QUERY_RESULTS_RG:"SET_QUERY_RESULTS_RG",SET_QUERY_RESULTS_EXTENT_RG:"SET_QUERY_RESULTS_EXTENT_RG",SET_QUERY_CUSTOM_EXTENT_RG:"SET_QUERY_CUSTOM_EXTENT_RG",REMOVE_QUERY_RESULTS_RG:"REMOVE_QUERY_RESULTS_RG",REMOVE_QUERY_GRAPHICS_RG:"REMOVE_QUERY_GRAPHICS_RG",QUERY_MAR_S:"QUERY_MAR_S",SET_MAR_RESULTS_RG:"SET_MAR_RESULTS_RG",ZOOM_TO_SELECTED_POINT_RG:"ZOOM_TO_SELECTED_POINT_RG",SHOW_STREETSMART_VIEWER_RG:"SHOW_STREETSMART_VIEWER_RG",START_STREETSMART_VIEWER_S:"START_STREETSMART_VIEWER_S",CLOSE_STREETSMART_VIEWER_RG:"CLOSE_STREETSMART_VIEWER_RG",SHOW_GOOGLE_STREET_VIEWER_RG:"SHOW_GOOGLE_STREET_VIEWER_RG",START_GOOGLE_STREET_VIEWER_S:"START_GOOGLE_STREET_VIEWER_S",CLOSE_GOOGLE_STREET_VIEWER_RG:"CLOSE_GOOGLE_STREET_VIEWER_RG",GET_NEW_CONE_S:"GET_NEW_CONE",SET_NEW_CONE_RG:"SET_NEW_CONE",SET_POINT_BUFFER_RG:"SET_POINT_BUFFER_RG",SET_MAP_CLICK_MODE_RG:"SET_MAP_CLICK_MODE_RG",NEED_SUPPORT_REFRESH_RG:"NEED_SUPPORT_REFRESH_RG"},qe={SELECT_SUPPORT_MODE:"SELECT_SUPPORT_MODE",ADD_SUPPORT_MODE:"ADD_SUPPORT_MODE",DRAW_MODE:"DRAW_MODE"},Ye={selSupportGeom:null,queryFeatures:[],queryCount:-1,queryCustExt:null,queryResultsExt:null,marResults:null,showQuery:!1,leftVisible:!1,editMode:null,ssInputGeom:null,ssgeoJSONselPoint:null,viewWidth:null,viewExtentWidth:null,view_spatRef:null,cursor:"default",mapClickMode:qe.SELECT_SUPPORT_MODE,needSupRefresh:!1,coneGraphic:null,conePointGraphic:null,leftMode:null,leftKey:0,initialBearing:null,zoomPoint:null,retired:0},Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe.SET_SUPPORT_MARKER_RG:return t.payload.selSupportGeom.type="point",Object(D.a)({},e,t.payload);case Fe.SET_QUERY_RESULTS_RG:return Object(D.a)({},e,t.payload,{showQuery:!0});case Fe.REMOVE_QUERY_RESULTS_RG:return Object(D.a)({},e,{queryFeatures:[],marResults:null});case Fe.REMOVE_QUERY_GRAPHICS_RG:case Fe.SET_POINT_BUFFER_RG:case Fe.SHOW_STREETSMART_VIEWER_RG:case Fe.SHOW_GOOGLE_STREET_VIEWER_RG:return Object(D.a)({},e,t.payload);case Fe.CLOSE_STREETSMART_VIEWER_RG:return Object(D.a)({},e,t.payload,{leftVisible:!1,editMode:!1,leftMode:null,mapClickMode:qe.SELECT_SUPPORT_MODE,cursor:"default"});case Fe.SET_MAP_CLICK_MODE_RG:case Fe.NEED_SUPPORT_REFRESH_RG:case Fe.SET_NEW_CONE_RG:case Fe.SET_MAR_RESULTS_RG:case Fe.ZOOM_TO_SELECTED_POINT_RG:case Fe.SET_QUERY_CUSTOM_EXTENT_RG:case Fe.SET_QUERY_RESULTS_EXTENT_RG:return Object(D.a)({},e,t.payload);default:return e}},Qe={setSupportMarker:function(e){return{type:Fe.SET_SUPPORT_MARKER_RG,payload:{selSupportGeom:e}}},removeQueryResults:function(){return{type:Fe.REMOVE_QUERY_RESULTS_RG,payload:{}}},closeStreetSmartViewer:function(){return{type:Fe.CLOSE_STREETSMART_VIEWER_RG,payload:{ssOverlay:null,ssgeoJSONselPoint:null,leftKey:Ve.NO_LEFT_PANE}}},setPointBuffer:function(e,t,a){return{type:Fe.SET_POINT_BUFFER_RG,payload:{viewWidth:e,viewExtentWidth:t,view_spatRef:a}}},setQueryCustomExtent:function(e){return{type:Fe.SET_QUERY_CUSTOM_EXTENT_RG,payload:{queryCustExt:e}}},removeQueryGraphics:function(){return{type:Fe.REMOVE_QUERY_GRAPHICS_RG,payload:{showQuery:!1,queryCount:-1}}},querySuperQuery:function(e,t,a){return{type:Fe.QUERY_SUPERQUERY_S,payload:{where:e,extent:t,layer:a}}},queryMAR:function(e){return{type:Fe.QUERY_MAR_S,payload:{where:e}}},setMapClickMode:function(e,t){return{type:Fe.SET_MAP_CLICK_MODE_RG,payload:{mapClickMode:e,cursor:t}}},needSupportRefresh:function(e){return{type:Fe.NEED_SUPPORT_REFRESH_RG,payload:{needSupRefresh:e}}},getNewCone:function(e,t,a,n,r,s){return{type:Fe.GET_NEW_CONE_S,payload:{point:e,pitch:t,yaw:a,hFov:n,layers:r,source:s}}},startStreetSmartViewer:function(e,t,a,n,r,s,i,o,c,l){return{type:Fe.START_STREETSMART_VIEWER_S,payload:{sel:e,layers:t,inSR:a,outSR:n,viewWidth:r,viewExtentWidth:s,view_spatRef:i,editMode:o,leftKey:c,retired:l}}},startGoogleStreetViewer:function(e,t,a){return{type:Fe.START_GOOGLE_STREET_VIEWER_S,payload:{sel:e,layers:t,leftKey:a}}},zoomToSelectedPoint:function(e){return{type:Fe.ZOOM_TO_SELECTED_POINT_RG,payload:{zoomPoint:e}}}},ze=M.a.mark(Je);function Je(e){var t,a,n,r,s,i,o,c,l,u,p,d;return M.a.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.prev=0,t={name:"MUTCD not found",serverImagePath:"none"},a=e.payload.support,m.next=5,Object(C.b)(ee,[a,e.payload.layers.signs]);case 5:for(n=m.sent,r=n.data.features,s=[],i="",r.length<1&&(i="PR-OTHER"),o=0;o<r.length;o++)r[o].attributes.SIGNCODE?i+=r[o].attributes.SIGNCODE+",":i+="PR-OTHER,";return i=i.replace(/,\s*$/,""),m.next=14,Object(C.b)(Se,[i]);case 14:c=m.sent,l=0;case 16:if(!(l<r.length)){m.next=29;break}return u={feature:r[l]},m.next=20,Object(C.b)(te,[r[l],e.payload.layers.timebands]);case 20:for(p=m.sent,r[l].attributes.SIGNCODE||(r[l].attributes.SIGNCODE="unclassified"),u.timebands=p.data.features,d=0;d<c.length;d++)r[l].attributes.SIGNCODE.toUpperCase()===c[d].code.toUpperCase()&&(u.MUTCD=c[d]);void 0===u.MUTCD&&(u.MUTCD=t),s.push(u);case 26:l++,m.next=16;break;case 29:return m.next=31,Object(C.d)({type:Fe.SET_SUPPORT_MARKER_RG,payload:{selSupportGeom:a.geometry}});case 31:return m.next=33,Object(C.d)({type:xe.SET_SELECTED_SUPPORT_RM,payload:{support:a,signs:s}});case 33:m.next=38;break;case 35:m.prev=35,m.t0=m.catch(0),console.log("SAGA ERROR: map/reload, ",m.t0);case 38:case"end":return m.stop()}},ze,null,[[0,35]])}var Xe=M.a.mark($e),Ze=M.a.mark(et);function $e(e){var t;return M.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(C.b)($,[e.payload.geom,e.payload.layers.supports,4326]);case 3:if(0!==(t=a.sent).data.features.length){a.next=8;break}return a.abrupt("return");case 8:return e.payload.support=t.data.features[0],a.next=11,Je(e);case 11:a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),console.log("SAGA ERROR: map/setSelectedSupport, ",a.t0);case 16:case"end":return a.stop()}},Xe,null,[[0,13]])}function et(){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.e)(xe.SELECT_SUPPORT_S,$e);case 2:case"end":return e.stop()}},Ze)}var tt=M.a.mark(nt),at=M.a.mark(rt);function nt(e){return M.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(C.b)(ae,[e.payload.features,e.payload.layers.signs]);case 3:return t.next=5,Je(e);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("SAGA ERROR: map/setSignOrder, ",t.t0);case 10:case"end":return t.stop()}},tt,null,[[0,7]])}function rt(){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.e)(xe.SIGN_ORDER_CHANGED_S,nt);case 2:case"end":return e.stop()}},at)}var st=M.a.mark(ot),it=M.a.mark(ct);function ot(e){return M.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.payload.support.geometry.spatialReference={wkid:4326},t.next=4,Object(C.b)(ne,[e.payload.support,!1,e.payload.layers.supports]);case 4:return t.next=6,Object(C.d)({type:Fe.NEED_SUPPORT_REFRESH_RG,payload:{needSupRefresh:!0}});case 6:return t.next=8,Je(e);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log("SAGA ERROR: map/saveSelectedSupport, ",t.t0);case 13:case"end":return t.stop()}},st,null,[[0,10]])}function ct(){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.e)(xe.SAVE_SUPPORT_S,ot);case 2:case"end":return e.stop()}},it)}var lt=M.a.mark(pt),ut=M.a.mark(dt);function pt(e){return M.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(C.b)(se,[e.payload.sign,!1,e.payload.layers]);case 3:return t.next=5,Object(C.b)(re,[e.payload.sign,e.payload.layers]);case 5:return t.next=7,Je(e);case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log("SAGA ERROR: map/saveSelectedSign, ",t.t0);case 12:case"end":return t.stop()}},lt,null,[[0,9]])}function dt(){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.e)(xe.SAVE_SIGN_S,pt);case 2:case"end":return e.stop()}},ut)}var mt=M.a.mark(St),ht=M.a.mark(Et);function St(e){var t;return M.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(C.b)(fe,[]);case 3:return t=a.sent,a.next=6,Object(C.d)({type:xe.INIT_RM,payload:{muttArray:t,extent:e.payload.extent}});case 6:a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log("SAGA ERROR: map/mapLoaded, ",a.t0);case 11:case"end":return a.stop()}},mt,null,[[0,8]])}function Et(){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.e)(xe.MAP_LOADED_S,St);case 2:case"end":return e.stop()}},ht)}var ft=M.a.mark(bt),gt=M.a.mark(yt);function bt(e){return M.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(C.b)(se,[e.payload.sign,!0,e.payload.layers]);case 3:return t.next=5,Je(e);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("SAGA ERROR: map/saveNewSign, ",t.t0);case 10:case"end":return t.stop()}},ft,null,[[0,7]])}function yt(){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.e)(xe.NEW_SIGN_S,bt);case 2:case"end":return e.stop()}},gt)}var vt=M.a.mark(Ot),Tt=M.a.mark(Rt);function Ot(e){var t,a,n,r,s,i,o,c,l;return M.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Object(C.b)(oe,[e.payload.where,e.payload.extent,e.payload.layer]);case 3:return t=u.sent,console.log("extent should be null",e.payload.extent),u.next=7,Object(C.b)(ie,[e.payload.where,e.payload.extent,e.payload.layer]);case 7:return a=(a=u.sent).extent,console.log("custom extent",a),n=a.xmax,r=a.xmin,s=a.ymax,i=a.ymin,o=.1*(n-r),c=.1*(s-i),a.xmax=a.xmax+o,a.xmin=a.xmin-o,a.ymax=a.ymax+c,a.ymin=a.ymin-c,l=t.features,u.next=25,Object(C.d)({type:Fe.SET_QUERY_RESULTS_RG,payload:{queryFeatures:l,queryCount:l.length,queryResultsExt:a}});case 25:u.next=30;break;case 27:u.prev=27,u.t0=u.catch(0),console.log("SAGA ERROR: graphic/query, ",u.t0);case 30:case"end":return u.stop()}},vt,null,[[0,27]])}function Rt(){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.e)(Fe.QUERY_SUPERQUERY_S,Ot);case 2:case"end":return e.stop()}},Tt)}var wt=M.a.mark(At),Mt=M.a.mark(Ct);function At(e){var t,a,n,r,s,i,o,c,l,u,p;return M.a.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,d.next=3,Object(C.b)(ce,[[e.payload.sel[0].geometry],e.payload.layers.geometryService,e.payload.inSR,e.payload.outSR]);case 3:return t=d.sent,(a=Object(D.a)({},e.payload.sel[0])).geometry=t[0],d.next=8,Object(C.b)(ue,[a]);case 8:return n=d.sent,r=window.ArcgisToGeojsonUtils.arcgisToGeoJSON(n),d.next=12,Object(C.b)(le,[e.payload.viewWidth,e.payload.viewExtentWidth,e.payload.view_spatRef,e.payload.sel[0].geometry,400]);case 12:s=d.sent,i=null,d.t0=e.payload.retired,d.next=0===d.t0?17:1===d.t0?19:2===d.t0?21:3===d.t0?23:25;break;case 17:return i="SUPPORTSTATUS = 1",d.abrupt("break",26);case 19:return i="SUPPORTSTATUS = 1 OR SUPPORTSTATUS = 5",d.abrupt("break",26);case 21:return i="SUPPORTSTATUS = 5",d.abrupt("break",26);case 23:return i="SUPPORTSTATUS = 627",d.abrupt("break",26);case 25:return d.abrupt("break",26);case 26:return d.next=28,Object(C.b)($,[s,e.payload.layers.supports,2248,i]);case 28:for(o=d.sent,c=o.data.features,l=0;l<c.length;l++)c[l].geometry.type="point",c[l].geometry.spatialReference={wkid:2248};return d.next=33,Object(C.b)(ue,[c]);case 33:return u=d.sent,p=window.ArcgisToGeojsonUtils.arcgisToGeoJSON(u),d.next=37,Object(C.d)({type:Fe.SHOW_STREETSMART_VIEWER_RG,payload:{leftVisible:!0,leftMode:"StreetSmart",editMode:e.payload.editMode,ssInputGeom:t,ssgeoJSONselPoint:r,ssOverlay:p,leftKey:e.payload.leftKey}});case 37:d.next=42;break;case 39:d.prev=39,d.t1=d.catch(0),console.log("SAGA ERROR: graphic/openStreetSmart, ",d.t1);case 42:case"end":return d.stop()}},wt,null,[[0,39]])}function Ct(){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.e)(Fe.START_STREETSMART_VIEWER_S,At);case 2:case"end":return e.stop()}},Mt)}var Dt=M.a.mark(_t),Nt=M.a.mark(It);function _t(e){var t,a,n;return M.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(C.b)(pe,[e.payload.sel,e.payload.layers.LRS_Service,4326,4326]);case 3:return t=r.sent,a=t.data.pointOnRoutes[0],n=de([a.geometry,e.payload.sel.geometry]),r.next=8,Object(C.d)({type:Fe.SHOW_GOOGLE_STREET_VIEWER_RG,payload:{leftVisible:!0,leftMode:"Google",initialBearing:n,leftKey:e.payload.leftKey}});case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),console.log("SAGA ERROR: graphic/openGoogleStreet, ",r.t0);case 13:case"end":return r.stop()}},Dt,null,[[0,10]])}function It(){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.e)(Fe.START_GOOGLE_STREET_VIEWER_S,_t);case 2:case"end":return e.stop()}},Nt)}var Pt=M.a.mark(xt),kt=M.a.mark(jt);function xt(e){var t,a,n,r,s;return M.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,(t={}).attributes={ANGLE:null,BASETYPE:null,BLOCKID:null,COMMENTS:null,CREATED_DATE:null,CREATED_USER:null,FROMDATE:null,GLOBALID:null,LAST_EDITED_DATE:null,LAST_EDITED_USER:null,LOCATION:null,MEASURE:null,MSENDDATE:null,MSSTARTDATE:null,MSUTILITYID:null,NUMBEROFBASES:null,OBJECTID:null,ORIGIN_ID:null,ROUTEID:null,ROUTEID_ALT:null,SEG_DIR:null,SIDE:null,STREETSEGID:null,STREETSEGID_ALT:null,SUBBASE:null,SUBBLOCKID:null,SUBBLOCKKEY:null,SUPPORTHEIGHT:null,SUPPORTSTATUS:1,SUPPORTTYPE:14,TODATE:null,Z:null,POINT_X:null,POINT_Y:null,SIGNWORKS_CREATED_BY:e.payload.auth.user.username,SIGNWORKS_LAST_EDITED_BY:e.payload.auth.user.username},t.setAttributes=function(e){return this.attributes=e,this},t.geometry={type:"point",x:e.payload.support.features[0].geometry.coordinates[0],y:e.payload.support.features[0].geometry.coordinates[1],z:e.payload.support.features[0].geometry.coordinates[2],spatialReference:{wkid:2248}},i.next=7,Object(C.b)(pe,[t,e.payload.layers.LRS_Service,2248,26985]);case 7:return a=i.sent,n=a.data.pointOnRoutes[0],t.attributes.ROUTEID=n.routeId,t.attributes.MEASURE=n.measureInMeters,t.attributes.BLOCKID=n.blockId,t.attributes.SUBBLOCKID=n.subBlockId,t.attributes.SUBBLOCKKEY=n.roadData.segmentations.subBlock.subBlockKey,t.attributes.POINT_X=n.geometry.x,t.attributes.POINT_Y=n.geometry.y,t.attributes.ANGLE=n.tangentOnRoute.tangentHorizontalAngle,i.next=19,Object(C.b)(ne,[t,!0,e.payload.layers.supports]);case 19:return r=i.sent,i.next=22,Object(C.b)(Z,[r.data.addResults[0].objectId,e.payload.layers.supports,4326]);case 22:return s=i.sent,e.payload.support=s.data.features[0],i.next=26,Je(e);case 26:return i.next=28,Object(C.d)({type:Fe.NEED_SUPPORT_REFRESH_RG,payload:{needSupRefresh:!0}});case 28:i.next=33;break;case 30:i.prev=30,i.t0=i.catch(0),console.log("SAGA ERROR: map/addNewSupport, ",i.t0);case 33:case"end":return i.stop()}},Pt,null,[[0,30]])}function jt(){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.e)(xe.NEW_SUPPORT_S,xt);case 2:case"end":return e.stop()}},kt)}var Gt=M.a.mark(Lt),Ut=M.a.mark(Ht);function Lt(e){var t,a,n,r,s,i;return M.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,"StreetSmart"!==e.payload.source){o.next=11;break}return n=e.payload.point[0],r=e.payload.point[1],s=e.payload.point[2],t={type:"point",x:n,y:r,z:s,SpatialReference:{wkid:2248}},o.next=8,Object(C.b)(ce,[[t],e.payload.layers.geometryService,2248,4326]);case 8:a=o.sent,o.next=12;break;case 11:"Google"===e.payload.source&&(a=[e.payload.point]);case 12:return o.next=14,Object(C.b)(me,[a,e.payload.pitch,e.payload.yaw,e.payload.hFov,e.payload.source]);case 14:return i=o.sent,o.next=17,Object(C.d)({type:Fe.SET_NEW_CONE_RG,payload:{coneGraphic:i[0],conePointGraphic:i[1]}});case 17:o.next=22;break;case 19:o.prev=19,o.t0=o.catch(0),console.log("SAGA ERROR: graphic/getNewCone, ",o.t0);case 22:case"end":return o.stop()}},Gt,null,[[0,19]])}function Ht(){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.e)(Fe.GET_NEW_CONE_S,Lt);case 2:case"end":return e.stop()}},Ut)}var Wt=M.a.mark(Bt),Vt=M.a.mark(Ft);function Bt(e){var t,a;return M.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(C.b)(be,[e.payload.where,"address"]);case 3:return t=n.sent,a=t,n.next=7,Object(C.d)({type:Fe.SET_MAR_RESULTS_RG,payload:{marResults:a}});case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log("SAGA ERROR: graphic/query, ",n.t0);case 12:case"end":return n.stop()}},Wt,null,[[0,9]])}function Ft(){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.e)(Fe.QUERY_MAR_S,Bt);case 2:case"end":return e.stop()}},Vt)}var qt=M.a.mark(Yt);function Yt(){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.a)([].concat(Object(A.a)(Object.values(n)),Object(A.a)(Object.values(r)),Object(A.a)(Object.values(s)),Object(A.a)(Object.values(i)),Object(A.a)(Object.values(o)),Object(A.a)(Object.values(l)),Object(A.a)(Object.values(c)),Object(A.a)(Object.values(u)),Object(A.a)(Object.values(p)),Object(A.a)(Object.values(d)),Object(A.a)(Object.values(h)),Object(A.a)(Object.values(S)),Object(A.a)(Object.values(m)),Object(A.a)(Object.values(E))).map(C.c));case 2:case"end":return e.stop()}},qt)}var Kt=a(212),Qt=a(213),zt=a(74),Jt=a(14),Xt=a(13),Zt=a(15);function $t(e,t,a){return new Promise(function(n,r){if(W.isLoaded())n();else{var s={url:t};W.loadScript(s).then(function(){(function(e,t){return new Promise(function(a,n){t&&e?W.loadModules(["esri/identity/IdentityManager"]).then(function(e){var t=Object(H.a)(e,1);t[0];a()}):!t&&e?W.loadModules(["esri/IdentityManager","esri/arcgis/utils"]).then(function(t){var n=Object(H.a)(t,2),r=(n[0],n[1]);r.arcgisUrl="".concat(e,"/sharing/rest/content/items"),a()}):e||a()})})(e,a).then(function(e){return n()},function(e){return r(e)})}).catch(function(e){r(e)})}})}function ea(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise(function(n,r){W.isLoaded()?a?function(e,t){if(e.id)return new Promise(function(a,n){W.loadModules(["esri/WebScene","esri/views/SceneView"]).then(function(r){var s=Object(H.a)(r,2),i=s[0],o=s[1],c=new i({portalItem:{id:e.id}});new o({map:c,container:t}).when(function(e){a({view:e})},function(e){n(e)})})});return new Promise(function(a,n){W.loadModules(["esri/Map","esri/views/SceneView"]).then(function(r){var s=Object(H.a)(r,2),i=s[0],o=s[1],c=new i({basemap:e.basemap});new o({container:t,map:c}).when(function(e){a({view:e})},function(e){n(e)})})})}(e,t).then(function(e){n(e)},function(e){r(e)}):function(e,t){return new Promise(function(a,n){W.loadModules(["esri/Map","esri/layers/TileLayer","esri/Basemap","esri/views/MapView"]).then(function(r){var s=Object(H.a)(r,4),i=s[0],o=(s[1],s[2],s[3]),c=new i({basemap:e.basemap});new o({container:t,map:c,zoom:e.zoom,center:e.center}).when(function(e){a({view:e})},function(e){n(e)})})})}(e,t).then(function(e){n(e)},function(e){r(e)}):r("JSAPI is not yet loaded")})}var ta=function e(t,a,n,r,s){var i=this;Object(V.a)(this,e),this.startup=function(){return new Promise(function(e,t){$t(i.portalUrl,i.jsapiUrl,i.jsapiV4).then(function(t){if(!i.portalUrl)return e();i.createIDManager().then(e())}).catch(function(e){t()})})},this.createIDManager=function(){return new Promise(function(e,t){Object(W.loadModules)(["esri/identity/IdentityManager","esri/identity/OAuthInfo"]).then(function(t){var a=Object(H.a)(t,2),n=a[0],r=a[1];i.idManager=n;var s=localStorage.getItem("esri_auth_id");s?i.idManager.initialize(s):(i.idManager.useSignInPage=!i.loginWithPopup,i.oAuthInfo=new r({appId:i.appId,portalUrl:i.portalUrl,popup:i.loginWithPopup}),i.idManager.registerOAuthInfos([i.oAuthInfo])),e()}).catch(function(e){t()})})},this.login=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.portalUrl;return new Promise(function(t,a){i.checkLogin().then(function(e){i.getUser().then(t,a)},function(n){var r=i.checkPersist();if(!i.idManager&&r&&r.portalUrl)i.portalUrl=r.portalUrl;else{if(!e)return t();i.portalUrl=e}i.createIDManager().then(function(){i.doLogin().then(function(e){return t(e)},function(e){return a(e)})})})})},this.checkLogin=function(){return new Promise(function(e,t){if(!i.portalUrl)return t();var a=i.portalUrl+"/sharing";i.idManager.checkSignInStatus(a).then(function(a){i.persistAuth(),i.getUser().then(e,t)}).otherwise(function(e){t("User is not logged in")})})},this.doLogin=function(){return i.persistAuth(),new Promise(function(e,t){var a=i.portalUrl+"/sharing";i.idManager.getCredential(a,{oAuthPopupConfirmation:!1}).then(function(a){i.getUser().then(e,t)}).otherwise(t)})},this.getUser=function(){return new Promise(function(e,t){Object(W.loadModules)(["esri/portal/Portal"]).then(function(a){var n=new(0,Object(H.a)(a,1)[0])({url:i.portalUrl,authMode:"immediate"});n.load().then(function(){i.user=n.user,i.user.fetchGroups().then(e(i.user)).otherwise(t)}).otherwise(t)})})},this.persistAuth=function(){var e=i.idManager.toJSON();localStorage.setItem("esri_auth_id",JSON.stringify(e))},this.checkPersist=function(){var e=JSON.parse(localStorage.getItem("esri_auth_id"));return e&&e.oAuthInfos?e.oAuthInfos[0]:null},this.logout=function(){Object(W.loadModules)(["dojo/cookie"]).then(function(e){(0,Object(H.a)(e,1)[0])("esri_auth",'{esri: "logout"}',{expire:-1,expires:-1,path:"/"}),localStorage.removeItem("esri_auth_id"),i.idManager.destroyCredentials()})},this.appId=t,this.portalUrl=a,this.jsapiUrl=n,this.jsapiV4=r,this.loginWithPopup=s},aa=a(23),na=a(75),ra=a.n(na),sa=a(17);function ia(){var e=Object(aa.a)(["\n  font-size: 3em;\n  text-shadow: -2px 2px 8px rgba(0,0,0,0.25);\n"]);return ia=function(){return e},e}function oa(){var e=Object(aa.a)(["\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  z-index: 20;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  width: 100%;\n  padding: 2em;\n  text-align: right;\n  color: white;\n"]);return oa=function(){return e},e}function ca(){var e=Object(aa.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%);\n"]);return ca=function(){return e},e}function la(){var e=Object(aa.a)(["\n  animation-name: ",";\n  animation-duration: ",";\n  animation-timing-function: ease-in-out;\n  animation-delay: ",";\n"]);return la=function(){return e},e}function ua(){var e=Object(aa.a)(["\n  position: absolute;\n  z-index: 10;\n  height: 100%;\n  width: 100%;\n  \n"]);return ua=function(){return e},e}function pa(){var e=Object(aa.a)(["\n  0%   {opacity: 1;}\n  100% {opacity: 0;}\n"]);return pa=function(){return e},e}var da=Object(sa.keyframes)(pa()),ma=sa.default.div(ua()),ha=Object(sa.default)(ma)(la(),da,function(e){return e.delay},function(e){return e.duration}),Sa=sa.default.div(ca()),Ea=sa.default.div(oa()),fa=sa.default.h1(ia()),ga=2e3,ba=function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(Jt.a)(this,Object(Xt.a)(t).call(this,e))).playAnimation=function(){setTimeout(function(){a.setState({isAnimating:!1})},ga)},a.state={isAnimating:!0},a}return Object(Zt.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){return!this.props.isLoading&&this.state.isAnimating?b.a.createElement(ma,null,b.a.createElement(Sa,null,b.a.createElement(ra.a,null)),b.a.createElement(Ea,null,b.a.createElement(fa,null,"Signworks Inventory"))):this.props.isLoading&&this.state.isAnimating?(this.playAnimation(),b.a.createElement(ha,{delay:"1000ms",duration:"1000ms"})):null}}]),t}(g.Component),ya=a(46),va=a.n(ya);function Ta(){var e=Object(aa.a)(["\n  height: 100%;\n  width: 100%;\n"]);return Ta=function(){return e},e}var Oa=sa.default.div(Ta()),Ra=function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(Jt.a)(this,Object(Xt.a)(t).call(this,e))).selPoint={geometry:null},a.markerLayer=null,a.queryMarkerLayer=null,a.featureLayer=null,a.conicLayer=null,a.drawExtentLayer=null,a.symb=null,a.addSymb=null,a.marSymb=null,a.geom=null,a.startup=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];ea(e,t,n).then(function(e){a.init(e),a.setupWidgetsAndLayers(),a.finishedLoading()},function(n){console.error("maperr",n),window.setTimeout(function(){a.startup(e,t)},1e3)})},a.finishedLoading=function(){a.props.onMapLoaded(a.view.extent)},a.getSelectedSupport=function(e){a.props.onMapClicked(e,X(a.props))},a.mapClickHandler=function(e){switch(a.props.setPointBuffer(a.view.width,a.view.extent.width,a.view.spatialReference),a.props.graphic.mapClickMode){case qe.SELECT_SUPPORT_MODE:l=a.view.width,u=a.view.extent.width,p=a.view.spatialReference,d=e.mapPoint,m=12,h=a.getSelectedSupport,Object(W.loadModules)(["esri/geometry/Extent"]).then(function(e){var t=Object(H.a)(e,1)[0],a=m*(u/l);h(new t(d.x-a,d.y-a,d.x+a,d.y+a,p))});break;case qe.ADD_SUPPORT_MODE:var t={atrributes:{},geometry:{x:e.mapPoint.longitude,y:e.mapPoint.latitude,type:"point"}};a.setState({newSupportClickGeom:e.mapPoint}),a.props.startStreetSmartViewer([t],X(a.props),4326,2248,a.props.graphic.viewWidth,a.props.graphic.viewExtentWidth,a.props.graphic.view_spatRef,!0),a.props.setMapClickMode(qe.SELECT_SUPPORT_MODE,"default"),a.view.surface.style.cursor="default";break;case qe.DRAW_MODE:var n,r,s=a.drawExtentLayer,i=a.props.setMapClickMode,o=a.props.setQueryCustomExtent,c=a.view.spatialReference;Object(W.loadModules)(["esri/views/draw/Draw","esri/Graphic"]).then(function(e){var t=Object(H.a)(e,2),l=t[0],u=t[1],p=function(e){s.removeAll();var t=new u({geometry:{type:"polygon",rings:e,spatialReference:c},symbol:{type:"simple-fill",color:"purple",style:"none",outline:{color:"black",width:1}}});return s.add(t),t};n=new l({view:a.view}),(r=n.create("polygon",{mode:"click"})).on("vertex-add",function(e){p(e.vertices)}),r.on("vertex-remove",function(e){p(e.vertices)}),r.on("cursor-update",function(e){p(e.vertices)}),r.on("draw-complete",function(e){var t=p(e.vertices);o(t.geometry),i(qe.SELECT_SUPPORT_MODE,"default")})});break;default:return}var l,u,p,d,m,h},a.mapMoveHandler=function(e){a.props.onMapChanged(a.view.extent)},a.init=function(e){a.view=e.view,a.map=e.view.map},a.setupWidgetsAndLayers=function(){Object(W.loadModules)(["esri/layers/FeatureLayer","esri/layers/GraphicsLayer","esri/Graphic"]).then(function(e){var t=Object(H.a)(e,3),n=t[0],r=t[1],s=t[2];a.featureLayer=new n({url:X(a.props).supports,definitionExpression:"SUPPORTSTATUS = 1",outFields:["*"],id:"support"}),a.queryMarkerLayer=new r,a.markerLayer=new r,a.conicLayer=new r,a.drawExtentLayer=new r,a.map.addMany([a.featureLayer,a.queryMarkerLayer,a.markerLayer,a.conicLayer,a.drawExtentLayer]),a.view.on("click",a.mapClickHandler),a.view.on("pointer-up",a.mapMoveHandler),a.view.on("mouse-wheel",a.mapMoveHandler),a.view.on("resize",a.mapMoveHandler),a.symb={type:"simple-marker",style:"circle",color:[0,255,0,0],size:"30px",outline:{color:"magenta",width:3}},a.addSymb={type:"simple-marker",style:"circle",color:[0,255,0,0],size:"30px",outline:{color:"green",width:3}},a.marSymb={type:"simple-marker",style:"square",color:[0,255,0,0],size:"30px",outline:{color:"green",width:3}},a.selPoint=new s({geometry:null,symbol:a.symb})})},a.state={newSupportClickGeom:null},a}return Object(Zt.a)(t,e),Object(B.a)(t,[{key:"componentDidMount",value:function(){this.startup(this.props.mapConfig,"map-view-container",this.props.is3DScene)}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.graphic.coneGraphic!==e.graphic.coneGraphic||(t.newSupportClickGeom!==this.state.newSupportClickGeom||(this.props.graphic.queryFeatures.length>0&&this.props.graphic.queryFeatures!==e.graphic.queryFeatures||(!0===this.props.graphic.needSupRefresh||(this.props.graphic.mapClickMode!==e.graphic.mapClickMode||(this.props.map.support!==e.map.support||(e.graphic.showQuery!==this.props.graphic.showQuery||(!!(null===e.graphic.ssOverlay&this.conicLayer.graphics.length>0)||(e.graphic.zoomPoint!=this.props.graphic.zoomPoint||e.map.retiredPosts!=this.props.map.retiredPosts))))))))}},{key:"componentDidUpdate",value:function(e,t,a){var n=this;if(this.props.graphic.coneGraphic!==e.graphic.coneGraphic)return this.conicLayer.removeAll(),this.queryMarkerLayer.removeAll(),this.conicLayer.add(this.props.graphic.coneGraphic),void this.conicLayer.add(this.props.graphic.conePointGraphic);if(!1===this.props.graphic.showQuery&&(this.queryMarkerLayer.removeAll(),this.drawExtentLayer.removeAll()),null===this.props.graphic.ssOverlay&&this.conicLayer.graphics.length>0&&this.conicLayer.removeAll(),this.props.graphic.queryFeatures.length>0){var r=Object(A.a)(this.props.graphic.queryFeatures);console.log("feature",r[0].geometry.spatialReference),console.log("view",this.view),1===r.length?this.view.center=r[0].geometry:this.view.extent=this.props.graphic.queryResultsExt;var s={type:"simple-marker",style:"circle",color:[0,255,0,0],size:"35px",outline:{color:"blue",width:3}};this.props.removeQueryResults(),Object(W.loadModules)(["esri/Graphic"]).then(function(e){for(var t=Object(H.a)(e,1)[0],a=null,i=0;i<r.length;i++)r[i].geometry.type="point",a=new t({geometry:r[i].geometry,symbol:s}),n.queryMarkerLayer.add(a)})}if(!0===this.props.graphic.needSupRefresh&&this.featureLayer.refresh(),this.props.graphic.mapClickMode===qe.SELECT_SUPPORT_MODE&&this.props.graphic.selSupportGeom,this.props.graphic.mapClickMode===qe.SELECT_SUPPORT_MODE&&this.props.map.support!==e.map.support)this.selPoint.geometry=this.props.graphic.selSupportGeom,1!==this.props.graphic.leftKey&&this.props.graphic.leftKey!==Ve.SS_VIEW_REPEAT||this.props.startStreetSmartViewer([this.selPoint],X(this.props),4326,2248,this.props.graphic.viewWidth,this.props.graphic.viewExtentWidth,this.props.graphic.view_spatRef,!1,Ve.SS_VIEW_FIRST,this.props.map.retiredPosts),this.selPoint.symbol=this.symb,this.markerLayer.removeAll(),this.markerLayer.add(this.selPoint),this.view.zoom=20,this.view.center=this.selPoint.geometry;else if(this.props.graphic.mapClickMode===qe.ADD_SUPPORT_MODE&&t.newSupportClickGeom!==this.state.newSupportClickGeom){var i={};i.geometry=this.state.newSupportClickGeom,this.view.center=i.geometry,this.view.zoom=19}if(this.props.graphic.zoomPoint!=e.graphic.zoomPoint){var o={};o.geometry=va()(this.props.graphic.zoomPoint),o.symbol=this.marSymb,this.queryMarkerLayer.removeAll(),this.queryMarkerLayer.addMany([o]),this.view.center=o.geometry,this.view.zoom=19}this.props.map.retiredPosts!=e.map.retiredPosts&&(2===this.props.map.retiredPosts?this.featureLayer.definitionExpression=" SUPPORTSTATUS = 5":1===this.props.map.retiredPosts?this.featureLayer.definitionExpression="SUPPORTSTATUS = 1 OR SUPPORTSTATUS = 5":3===this.props.map.retiredPosts?this.featureLayer.definitionExpression="SUPPORTSTATUS = 627":this.featureLayer.definitionExpression="SUPPORTSTATUS = 1"),this.view.surface.style.cursor=this.props.graphic.cursor}},{key:"render",value:function(){return b.a.createElement(Oa,{ref:"mapDiv",id:"map-view-container"})}}]),t}(g.Component),wa=Object(T.b)(function(e){return{config:e.config,auth:e.auth,map:e.map,graphic:e.graphic}},function(e){return Object(O.b)(Object(D.a)({},Ue,Qe),e)})(Ra),Ma=a(30),Aa=a.n(Ma),Ca=(a(125),a(27)),Da=a(78),Na=a(26);function _a(e){var t=new Le;return function(){if(null===e.sel)return"Click on a support on the map to see its information";if(null===e.sel.selSupport)return"no support found...";var a=window.location.origin+window.location.pathname+"/img/supports/"+e.sel.attributes.SUPPORTTYPE+".png",n=window.location.origin+window.location.pathname+"/img/supports/666.png";return b.a.createElement("div",{className:e.leftOpen?"Support_comp":"Support"},b.a.createElement(Aa.a,{src:[a,n],alt:"support",className:e.leftOpen?"SupportImage_comp":"SupportImage"}),b.a.createElement("p",null,"Sign Type: ",e.sel?t.name(e.sel.attributes.SUPPORTTYPE,"SUPPORTTYPE"):"null "),b.a.createElement("p",null,b.a.createElement("button",{onClick:function(t){return e.SsClick(t,e.sel)},className:"supportButton"},b.a.createElement(Na.a,{icon:Ca.a,title:"StreetSmart"})),b.a.createElement("button",{onClick:function(t){return e.GsClick(t,e.sel)},className:"supportButton"},b.a.createElement(Na.a,{icon:Da.a,title:"Google Street View"})),e.canEdit?b.a.createElement("button",{onClick:function(t){return e.editClick(t,"SUPPORT")},className:"supportButton"},b.a.createElement(Na.a,{icon:Ca.d,title:"Edit Support"})):null),b.a.createElement("div",null,b.a.createElement("label",{className:e.leftOpen?"showRetired_comp":"showRetired"},b.a.createElement("input",{type:"checkbox",checked:e.showRet,onChange:function(t){return e.retCheck(t)}})," Show Retired Signs")))}()}a(128),a(129);function Ia(e){var t=new He;return b.a.createElement("div",{className:"TimebandRow"},b.a.createElement("span",{className:"timebandElement"},t.name(e.value.attributes.STARTDAY,"TIMEBAND_START_DAYS"),e.value.attributes.STARTDAY>7?" ":"-"),b.a.createElement("span",{className:"timebandElement"},t.name(e.value.attributes.ENDDAY,"TIMEBAND_END_DAYS"),e.value.attributes.STARTDAY>7?"":" | "),b.a.createElement("span",{className:"timebandElement"},t.name(e.value.attributes.STARTTIME,"TIMEBAND_HOURS"),e.value.attributes.STARTDAY>7?"":"M -"),b.a.createElement("span",{className:"timebandElement"},t.name(e.value.attributes.ENDTIME,"TIMEBAND_HOURS"),e.value.attributes.STARTDAY>7?"":"M "),b.a.createElement("span",{className:"timebandElement"},t.name(e.value.attributes.HOURLIMIT,"TIMEBAND_HOUR_LIMITS")))}a(130);var Pa=new He,ka=function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(Jt.a)(this,Object(Xt.a)(t).call(this,e))).timebandDisabler=function(e){switch(e){case"anytime":a.setState({startDayDisable:!1,endDayDisable:!0,startTimeDisable:!0,endTimeDisable:!0,hourLimitDisable:!0});break;case"schooldays":a.setState({startDayDisable:!1,endDayDisable:!0,startTimeDisable:!1,endTimeDisable:!1,hourLimitDisable:!1});break;case"hours/limit":a.setState({startDayDisable:!1,endDayDisable:!1,startTimeDisable:!0,endTimeDisable:!0,hourLimitDisable:!0});break;case"days/limit":a.setState({startDayDisable:!0,endDayDisable:!0,hourLimitDisable:!0});case"none":a.setState({startDayDisable:!1,endDayDisable:!1,startTimeDisable:!1,endTimeDisable:!1,hourLimitDisable:!1})}},a.timebandSelectChangeHandler=function(e,t){var n,r;if(e.currentTarget&&(n=e.currentTarget.selectedIndex,r=a.props.value.attributes),0===t){if(7===n)return a.timebandDisabler("anytime"),a.setState({errorMessage:"",startDayErrorClass:"timeband",endDayErrorClass:"timeband",startTimeErrorClass:"timeband",endTimeErrorClass:"timeband"}),a.props.change(e,a.props.index,5),void a.props.error("");if(8===n)return a.timebandDisabler("schooldays"),a.setState({errorMessage:"",startDayErrorClass:"timeband",endDayErrorClass:"timeband",startTimeErrorClass:"timeband",endTimeErrorClass:"timeband"}),a.props.change(e,a.props.index,6),void a.props.error("");if(n>r.ENDDAY&&r.ENDDAY>0)return a.timebandDisabler("hours/limit"),a.setState({errorMessage:"Start day is after end day",startDayErrorClass:"timeband_err",endDayErrorClass:"timeband_err"}),a.props.change(e,a.props.index,0,a.state.errorMessage),void a.props.error("Start day is after end day");if(0===r.ENDDAY)return a.timebandDisabler("hours/limit"),a.setState({errorMessage:"End day cannot be zero",startDayErrorClass:"timeband",endDayErrorClass:"timeband_err"}),a.props.change(e,a.props.index,0),void a.props.error("End day cannot be zero");a.timebandDisabler("none"),a.setState({errorMessage:"",startDayErrorClass:"timeband",endDayErrorClass:"timeband"}),a.props.error(""),a.props.change(e,a.props.index,0)}else if(1===t){if(n<r.STARTDAY)return a.timebandDisabler("hours/limit"),a.setState({errorMessage:"Start day is after end day",startDayErrorClass:"timeband_err",endDayErrorClass:"timeband_err"}),a.props.change(e,a.props.index,1,a.state.errorMessage),void a.props.error("Start day is after end day");a.timebandDisabler("none"),a.setState({errorMessage:"",startDayErrorClass:"timeband",endDayErrorClass:"timeband"}),a.props.error(""),a.props.change(e,a.props.index,1,a.state.errorMessage)}else 2===t?n>r.ENDTIME&&r.ENDTIME>0?(a.timebandDisabler("days/limit"),a.setState({errorMessage:"Start time is after end time",startTimeErrorClass:"timeband_err",endTimeErrorClass:"timeband_err"}),a.props.change(e,a.props.index,2),a.props.error("Start time is after end time 2")):n===r.ENDTIME?(a.timebandDisabler("days/limit"),a.setState({errorMessage:"Start time is same as end time",startTimeErrorClass:"timeband_err",endTimeErrorClass:"timeband_err"}),a.props.change(e,a.props.index,2),a.props.error("Start time is same as end time ")):(8===r.STARTDAY?a.timebandDisabler("schooldays"):a.timebandDisabler("none"),a.setState({errorMessage:"",startTimeErrorClass:"timeband",endTimeErrorClass:"timeband"}),a.props.change(e,a.props.index,2),a.props.error("")):3===t?n<r.STARTTIME?(a.timebandDisabler("days/limit"),a.setState({errorMessage:"Start time is after end time",startTimeErrorClass:"timeband_err",endTimeErrorClass:"timeband_err"}),a.props.change(e,a.props.index,3,a.state.errorMessage),a.props.error("Start time is after end time 3")):n===r.STARTTIME?(a.timebandDisabler("days/limit"),a.setState({errorMessage:"End time is same as start time",startTimeErrorClass:"timeband_err",endTimeErrorClass:"timeband_err"}),a.props.change(e,a.props.index,3),a.props.error("Start time is same as end time 2")):(a.timebandDisabler("none"),a.setState({errorMessage:"",startTimeErrorClass:"timeband",endTimeErrorClass:"timeband"}),a.props.change(e,a.props.index,3,a.state.errorMessage),a.props.error("")):4===t&&(a.props.change(e,a.props.index,4,a.state.errorMessage),a.props.error(""));(0===r.ENDTIME||0===r.STARTTIME)&&r.STARTDAY<7&&(0===r.STARTTIME?(a.setState({errorMessage:"Start time is zero",startTimeErrorClass:"timeband_err"}),a.props.error("Start time cannot be zero")):0===r.ENDTIME&&(a.setState({errorMessage:"End time is zero",endTimeErrorClass:"timeband_err"}),a.props.error("End time cannot be zero")))},a.deleteBand=function(e,t){var n=!a.state.willDelete;a.setState({willDelete:n}),a.props.delete(e,t,a.state.willDelete)},a.state={willDelete:!1,startDayErrorClass:"timeband",endDayErrorClass:"timeband",startTimeErrorClass:"timeband",endTimeErrorClass:"timeband",anyTimeDisable:!1,schoolDayDisable:!1,startDayDisable:!1,endDayDisable:!1,startTimeDisable:!1,endTimeDisable:!1,hourLimitDisable:!1,errorMessage:""},a}return Object(Zt.a)(t,e),Object(B.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.value.attributes;8===e.STARTDAY?this.timebandDisabler("anytime"):9===e.STARTDAY?this.timebandDisabler("schooldays"):0===e.STARTDAY&&0===e.ENDDAY&&(this.setState({errorMessage:"Start day is after end day",startDayErrorClass:"timeband_err",endDayErrorClass:"timeband_err"}),this.timebandDisabler("hours/limit"),this.props.error("End day cannot be zero"))}},{key:"render",value:function(){var e=this;return b.a.createElement("div",{className:this.state.willDelete?"TimebandEditor_delete":"TimebandEditor"},b.a.createElement("button",{className:this.props.value.conflict?"deleteButton_err":"deleteButton",onClick:function(t){return e.deleteBand(t,e.props.index)}},b.a.createElement("b",null,"X")),b.a.createElement("select",{className:this.state.startDayErrorClass,disabled:this.state.startDayDisable,value:this.props.value.attributes.STARTDAY?this.props.value.attributes.STARTDAY:"",onChange:function(t){return e.timebandSelectChangeHandler(t,0)}},We(Pa._codedValuesTimebandStartDays)),b.a.createElement("select",{className:this.state.endDayErrorClass,disabled:this.state.endDayDisable,value:this.props.value.attributes.ENDDAY?this.props.value.attributes.ENDDAY:"",onChange:function(t){return e.timebandSelectChangeHandler(t,1)}},We(Pa._codedValuesTimebandEndDays)),b.a.createElement("select",{className:this.state.startTimeErrorClass,disabled:this.state.startTimeDisable,value:this.props.value.attributes.STARTTIME?this.props.value.attributes.STARTTIME:"",onChange:function(t){return e.timebandSelectChangeHandler(t,2)}},We(Pa._codedValuesTimebandHours)),b.a.createElement("select",{className:this.state.endTimeErrorClass,disabled:this.state.endTimeDisable,value:this.props.value.attributes.ENDTIME?this.props.value.attributes.ENDTIME:"",onChange:function(t){return e.timebandSelectChangeHandler(t,3)}},We(Pa._codedValuesTimebandHours)),b.a.createElement("select",{className:"timeband",disabled:this.state.hourLimitDisable,value:this.props.value.attributes.HOURLIMIT?this.props.value.attributes.HOURLIMIT:"",onChange:function(t){return e.timebandSelectChangeHandler(t,4)}},We(Pa._codedValuesHourLimits)))}}]),t}(g.Component);a(131);function xa(e){return b.a.createElement("div",null,b.a.createElement("div",{className:e.edit?"TimebandTitle_Edit":"TimebandTitle_View"}),b.a.createElement("br",null),b.a.createElement("div",{className:e.edit?"Timebands_Edit":"Timebands_View"},e.bands.length>0?e.edit?e.bands.map(function(t,a){return b.a.createElement(ka,{key:"item-".concat(a),index:a,value:t,class:"TimebandEditor",change:e.change,delete:e.delete,error:e.error,signId:e.signId})}):e.bands.map(function(e,t){return b.a.createElement(Ia,{key:"item-".concat(t),index:t,value:e})}):"No Restrictions"),e.edit?b.a.createElement("div",{className:"addBandDiv"},b.a.createElement("button",{onClick:function(){return e.add(e.signId)},title:"Add Time Restriction",className:"addBandButton",disabled:e.cantAdd},b.a.createElement("b",null,"+"))):"")}var ja=a(55),Ga=a.n(ja);function Ua(e){var t=e.sign.MUTCD.serverImagePath.substring(0,e.sign.MUTCD.serverImagePath.lastIndexOf("/"))+"/PR-OTHER.png",a=window.location.origin+window.location.pathname+"/img/PR-OTHER.png";return b.a.createElement("div",{className:1===e.sign.feature.attributes.SIGNSTATUS?"Sign":5===e.sign.feature.attributes.SIGNSTATUS&&e.showRetired?"SignRetired_Visible":"SignRetired_Hidden"},b.a.createElement("div",{className:e.leftOpen?"SignMUTCDdiv_comp":"SignMUTCDdiv"},b.a.createElement(Aa.a,{src:[e.sign.MUTCD.serverImagePath,t,a],className:"SignImage",alt:"sign",loader:b.a.createElement(Ga.a,{type:"Puff",color:"#00BFFF",height:"100",width:"100"})}),b.a.createElement("div",{className:"SignMutcdText"},e.sign.feature.attributes.SIGNCODE,b.a.createElement("br",null),b.a.createElement("div",{className:e.leftOpen?"SignMUTCDdesc_comp":"SignMUTCDdesc"},e.sign.MUTCD.name)),b.a.createElement(Aa.a,{src:0!=e.sign.feature.attributes.SIGNARROWDIRECTION?window.location.origin+window.location.pathname+"/img/"+e.sign.feature.attributes.SIGNARROWDIRECTION+".png":null,className:"SignArrowImage"})),b.a.createElement("hr",null),b.a.createElement("div",{className:"SignZoneDiv"},function(){var t=e.sign.feature.attributes.ZONE_ID;return 0!=t&&t?t.includes("&")?"Zones "+t:"Zone "+t:void 0}()),b.a.createElement("div",null,e.canEdit?b.a.createElement("button",{onClick:function(t){return e.editClick(t,"SIGN",e.index)},className:"SignEditButton"},b.a.createElement(Na.a,{icon:Ca.d,title:"Edit Sign"})):null,b.a.createElement(xa,{bands:e.sign.timebands,edit:!1})))}var La=a(61),Ha=a(79),Wa=a.n(Ha),Va=(a(44),null),Ba=Object(La.SortableElement)(function(e){var t=e.value,a=e.index,n=e.canEdit,r=e.showRet,s=e.leftOpen;return b.a.createElement(Ua,{sign:t,index:a,canEdit:n,showRetired:r,editClick:Va,leftOpen:s})}),Fa=Object(La.SortableContainer)(function(e){var t=e.items,a=e.canEdit,n=e.showSigns,r=e.leftOpen;return b.a.createElement("div",null,t.map(function(e,t){return b.a.createElement(Ba,{key:"item-".concat(t),leftOpen:r,showRet:n,canEdit:a,index:t,value:e})}))}),qa=function(e){function t(){var e,a;Object(V.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(Jt.a)(this,(e=Object(Xt.a)(t)).call.apply(e,[this].concat(r)))).onSortEnd=function(e){var t=e.oldIndex,n=e.newIndex,r=Object(A.a)(a.props.signs);r=Wa()(r,t,n);for(var s=0;s<r.length;s++)r[s].feature.attributes.SIGNORDER=s;a.props.signOrderChanged(r,a.props.map.support,X(a.props))},a}return Object(Zt.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){return Va=this.props.editClick,this.props.signs?b.a.createElement(Fa,{items:this.props.signs,onSortEnd:this.onSortEnd,distance:10,canEdit:this.props.auth.isEditor,showSigns:this.props.map.retiredSigns,leftOpen:this.props.graphic.leftVisible}):b.a.createElement("p",null)}}]),t}(g.Component),Ya=Object(T.b)(function(e){return{map:e.map,config:e.config,graphic:e.graphic,auth:e.auth}},function(e){return Object(O.b)(Object(D.a)({},Ue),e)})(qa);a(153);function Ka(e){return e.sel?b.a.createElement("div",{className:"SignCreator"},b.a.createElement("button",{className:"SignAddButton",onClick:e.click},b.a.createElement(Na.a,{icon:Ca.c,title:"Add Sign"})," ADD NEW SIGN")):b.a.createElement("div",null)}a(154);function Qa(){var e=Object(aa.a)([" \n\n\n width:30%;\n \n"]);return Qa=function(){return e},e}var za=sa.default.div(Qa()),Ja=function(e){function t(){var e,a;Object(V.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(Jt.a)(this,(e=Object(Xt.a)(t)).call.apply(e,[this].concat(r)))).handleModalClicked=function(e,t,n){a.props.modalClicked(!0,t,n)},a.streetSmartClickHandler=function(e,t){var n;n=a.props.graphic.leftKey===Ve.SS_VIEW_FIRST?Ve.SS_VIEW_REPEAT:Ve.SS_VIEW_FIRST,a.props.startStreetSmartViewer([t],X(a.props),4326,2248,a.props.graphic.viewWidth,a.props.graphic.viewExtentWidth,a.props.graphic.view_spatRef,!1,n,a.props.map.retiredPosts)},a.googleStreetsClickHandler=function(e,t){var n;n=a.props.graphic.leftKey===Ve.GOOGLE_FIRST||a.props.graphic.leftKey===Ve.GOOGLE_REPEAT?Ve.GOOGLE_REPEAT:Ve.GOOGLE_FIRST;t.geometry.x,t.geometry.y;n===Ve.GOOGLE_REPEAT&&a.props.closeStreetSmartViewer(),a.props.startGoogleStreetViewer(t,X(a.props),n)},a.addSignHandler=function(e){var t={};t.sign={attributes:{SIGNCODE:"new addition",SIGNSIZE:null,SIGNTEXT:null,MUTCD:null,SIGNFACING:null,SIGNNUMBER:null,SIGNARROWDIRECTION:null,ORIGIN_ID:null,MANUAL_SEGID:null,SIGNORDER:null,SIGNSTATUS:1,ZONE_ID:null,SUPPORTID:a.props.map.support.attributes.GLOBALID,SIGNWORKS_CREATED_BY:a.props.auth.user.username,SIGNWORKS_LAST_EDITED_BY:a.props.auth.user.username}},a.props.newSign(a.props.map.support,t,X(a.props))},a.toggleShowRetiredSignsHandler=function(e){a.props.showRetiredSigns(e.currentTarget.checked)},a}return Object(Zt.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){return b.a.createElement(za,{className:"RightBar"},b.a.createElement(_a,{sel:this.props.map.support,editClick:this.handleModalClicked,SsClick:this.streetSmartClickHandler,GsClick:this.googleStreetsClickHandler,retCheck:this.toggleShowRetiredSignsHandler,canEdit:this.props.auth.isEditor,showRet:this.props.map.retiredSigns,leftOpen:this.props.graphic.leftVisible}),b.a.createElement(Ya,{signs:this.props.map.signs,editClick:this.handleModalClicked,canEdit:this.props.auth.isEditor}),this.props.auth.isEditor?b.a.createElement(Ka,{sel:this.props.map.support,click:this.addSignHandler}):null)}}]),t}(g.Component),Xa=Object(T.b)(function(e){return{map:e.map,graphic:e.graphic,auth:e.auth,config:e.config}},function(e){return Object(O.b)(Object(D.a)({},Ue,Qe),e)})(Ja),Za=(a(155),a(62)),$a=a.n(Za),en=a(80),tn=a.n(en),an=a(33),nn=a.n(an),rn=a(56),sn=a.n(rn);function on(){var e=Object(aa.a)(["  \ncolor: white;\n"]);return on=function(){return e},e}var cn=Object(sa.default)(tn.a)(on()),ln=function(e){function t(){return Object(V.a)(this,t),Object(Jt.a)(this,Object(Xt.a)(t).apply(this,arguments))}return Object(Zt.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){var e=this.props.user?b.a.createElement($a.a,{style:{padding:0}},b.a.createElement(cn,{user:this.props.user,portal:this.props.portal,onRequestSwitchAccount:function(){return console.log("switch account clicked")},onRequestSignOut:this.props.signOut},b.a.createElement(nn.a,{onClick:function(){return console.log("Profile & Settings clicked")}},"Profile & Settings"),b.a.createElement(nn.a,{onClick:function(){return console.log("My Esri clicked")}},"My Esri"),b.a.createElement(nn.a,{onClick:function(){return console.log("Training clicked")}},"Training"),b.a.createElement(nn.a,{onClick:function(){return console.log("Community & Forums clicked")}},"Community & Forums"),b.a.createElement(nn.a,{onClick:function(){return console.log("ArcGIS Online clicked")}},"ArcGIS Online"))):null,t=b.a.createElement($a.a,null,b.a.createElement(sn.a,{clear:!0,onClick:this.props.signIn},"Sign In")),a=this.props.loggedIn?e:t;return b.a.createElement("div",null,a)}}]),t}(g.Component),un=a(84),pn=a.n(un),dn=function(e){function t(){var e,a;Object(V.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(Jt.a)(this,(e=Object(Xt.a)(t)).call.apply(e,[this].concat(r)))).signIn=function(){a.props.checkAuth("https://dcgis.maps.arcgis.com")},a.signOut=function(){a.props.logout(a.props.config.portalUrl)},a.bannerToolHandler=function(e){switch(e.target.value){case"0":return;case"1":a.props.setMapClickMode(qe.SELECT_SUPPORT_MODE,"default"),e.target.value="0";break;case"2":a.props.setMapClickMode(qe.SELECT_SUPPORT_MODE,"default"),a.props.modalClicked(!0,"QUERY",null),e.target.value="0";break;case"3":a.props.setMapClickMode(qe.ADD_SUPPORT_MODE,"crosshair"),e.target.value="0";break;case"4":a.props.modalClicked(!0,"MAR",null),e.target.value="0";default:return null}},a.bannerActionHandler=function(e){switch(e.target.value){case"1":a.props.removeQueryGraphics(),e.target.value="0";break;case"2":a.props.showRetiredPosts(1),e.target.value="0";break;case"3":a.props.showRetiredPosts(2),e.target.value="0";break;case"4":a.props.showRetiredPosts(0),e.target.value="0";break;case"5":a.props.showRetiredPosts(3),e.target.value="0";break;default:return null}},a}return Object(Zt.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){return b.a.createElement("div",{className:"Banner"},b.a.createElement("img",{src:pn.a,className:"AppLogo",alt:"logo"}),b.a.createElement("div",{className:"AppTools"},b.a.createElement("span",null,b.a.createElement("select",{onChange:this.bannerToolHandler,className:"ActionSelect"},b.a.createElement("option",{value:0},"...Tools"),b.a.createElement("option",{value:1},"Select Support"),b.a.createElement("option",{value:2},"Sign Query"),this.props.auth.isEditor?b.a.createElement("option",{value:3,disabled:this.props.graphic.leftVisible},"Add Support"):null,b.a.createElement("option",{value:4},"MAR Query"))),b.a.createElement("span",null,b.a.createElement("select",{onChange:this.bannerActionHandler,className:"ActionSelect"},b.a.createElement("option",{value:0},"...Actions"),b.a.createElement("option",{value:1},"Clear Query Graphics"),b.a.createElement("option",{value:2},"Show Retired Supports"),b.a.createElement("option",{value:3},"Show Only Retired Supports"),b.a.createElement("option",{value:4},"Show Only Active Supports"),b.a.createElement("option",{value:5},"Hide All Supports")))),b.a.createElement(ln,{className:"UserAccount",user:this.props.auth.user,portal:this.props.auth.user?this.props.auth.user.portal:null,loggedIn:this.props.auth.loggedIn,signIn:this.signIn,signOut:this.signOut}))}}]),t}(g.Component),mn=Object(T.b)(function(e){return{map:e.map,graphic:e.graphic,auth:e.auth,config:e.config}},function(e){return Object(O.b)(Object(D.a)({},Ue,Qe),e)})(dn);a(181),a(182);function hn(e){return b.a.createElement("div",{className:e.graphic.mapClickMode===qe.DRAW_MODE?"ModalWrapperHidden":"ModalWrapper"},e.children)}var Sn=function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(Jt.a)(this,Object(Xt.a)(t).call(this,e))).saveClickHandler=function(){a.props.modalClicked(!1,null);var e=Object(D.a)({},a.props.map.support);e.attributes=Object(D.a)({},a.state),e.attributes.SIGNWORKS_LAST_EDITED_BY=a.props.auth.user.username,a.props.saveSupport(e,X(a.props))},a.cancelClickHandler=function(){a.props.modalClicked(!1,null)},a.supportTypeChangeHandler=function(e){a.setState({SUPPORTTYPE:Number(e.target.value)})},a.supportStatusChangeHandler=function(e){a.setState({SUPPORTSTATUS:Number(e.target.value)})},a.supportTypes=new Le,a.state=Object(D.a)({},a.props.map.support.attributes),a}return Object(Zt.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){return b.a.createElement(hn,Object.assign({},this.props,{title:"Edit Support",width:400,showOk:this.props.map.showOk}),b.a.createElement("div",{className:"SupportEditor"},b.a.createElement("div",{className:"SignEditCancel",title:"Close Window",onClick:this.cancelClickHandler},"X"),b.a.createElement("p",null," ID: ",this.state.GLOBALID),b.a.createElement("p",null,"Support Type:",b.a.createElement("select",{value:this.state.SUPPORTTYPE,onChange:this.supportTypeChangeHandler},We(this.supportTypes._codedValuesSupportType))),b.a.createElement("p",null,"Support Status:",b.a.createElement("select",{value:this.state.SUPPORTSTATUS,onChange:this.supportStatusChangeHandler},We(this.supportTypes._codedValuesSupportStatus))),b.a.createElement("button",{onClick:this.cancelClickHandler},"CANCEL"),b.a.createElement("button",{onClick:this.saveClickHandler},"SAVE")))}}]),t}(g.Component),En=(a(183),a(52));a(184);function fn(e){var t=new He,a=function(t){e.change(t)};return b.a.createElement("span",null,"Zone:",b.a.createElement("select",{id:"ward1",value:e.props.ward1,onChange:a,className:"ZoneElement"},We(t._codedValuesWards)),b.a.createElement("select",{id:"anc1",value:e.props.anc1,onChange:a,className:"ZoneElement"},We(t._codedValuesAnc)),"&",b.a.createElement("select",{id:"ward2",value:e.props.ward2,onChange:a,className:"ZoneElement"},We(t._codedValuesWards)),b.a.createElement("select",{id:"anc2",value:e.props.anc2,onChange:a,className:"ZoneElement"},We(t._codedValuesAnc)))}function gn(e){e=e.toUpperCase();var t={disabled:!0,speedLimit:null},a=Be.find(function(t){if(t===e)return e});if(a){var n=/\(([^)]+)\)/.exec(a);n?t.speedLimit=n[1]:(t.disabled=!1,t.speedLimit=0)}return t}function bn(e){var t=/[A-G]/,a=/[1-8]/,n=/[&]/,r=e.ward1?e.ward1:"",s=e.ward2?e.ward2:"",i=e.anc1?e.anc1:"",o=e.anc2?e.anc2:"",c=r+i;if(s)c+="&"+s+o;else if(o)return!1;return""===c||!c||(c.length<1||!!a.test(c[0])&&(c.length<2||(n.test(c[1])?!!a.test(c[2])&&(c.length<4||!!t.test(c[3])):!!t.test(c[1])&&(c.length<3||!!n.test(c[2])&&(!(c.length<4)&&(!!a.test(c[3])&&(c.length<5||!(c.length>5)&&!!t.test(c[4]))))))))}a(185).Typeahead,b.a.createRef();var yn=/[&]/,vn=function(e){function t(e){var a;Object(V.a)(this,t),(a=Object(Jt.a)(this,Object(Xt.a)(t).call(this,e))).zoneChangeHandler=function(e){var t=!0;switch(e.target.id){case"ward1":a.setState({ward1:e.target.value},function(){t=bn(this.state),this.setState({zoneChecked:t})});break;case"anc1":a.setState({anc1:e.target.value},function(){t=bn(this.state),this.setState({zoneChecked:t})});break;case"ward2":a.setState({ward2:e.target.value},function(){t=bn(this.state),this.setState({zoneChecked:t})});break;case"anc2":a.setState({anc2:e.target.value},function(){t=bn(this.state),this.setState({zoneChecked:t})})}},a.zoneAssembler=function(){var e="ndad";return a.state.ward1?(e=a.state.ward1.toString(),a.state.anc1&&(e+=a.state.anc1.toString()),a.state.ward1&&a.state.ward2?(e+="&"+a.state.ward2.toString(),a.state.ward2&&a.state.anc2?e+a.state.anc2.toString():e):e):""},a.saveClickHandler=function(){var e={sign:{}};e.sign.attributes=Object(D.a)({},a.state.attributes),e.sign.attributes.ZONE_ID=a.zoneAssembler(),e.sign.attributes.SIGNCODE=a.state.MUTCD.code,e.editBands=[],e.newBands=[],e.deleteBands=[],e.sign.attributes.SIGNWORKS_LAST_EDITED_BY=a.props.auth.user.username;for(var t=0;t<a.state.timebands.length;t++)switch(a.state.timebands[t].action){case 1:e.newBands.push(a.state.timebands[t]);break;case 2:e.editBands.push(a.state.timebands[t]);break;case 3:e.deleteBands.push(a.state.timebands[t].attributes.OBJECTID)}var n=X(a.props);a.props.saveSign(a.props.map.support,e,n),a.props.modalClicked(!1,null)},a.cancelClickHandler=function(){a.props.modalClicked(!1,null)},a.muttSelectorSaveHandler=function(){var e=function(e,t){for(var a="",n=0;n<t.length;n++)t[n].MUTCD.code===e&&(a=!0);return a}(a.state.MUTCD.code,a.props.map.signs);a.setState({paneSelection:1,muttDupe:e,showInfo:!1})},a.cancelSelectionHandler=function(e){a.setState({showInfo:!1})},a.getOptions=function(){for(var e=[],t=0;t<a.props.map.muttArray.length;t++)e.push(a.props.map.muttArray[t].code+": "+a.props.map.muttArray[t].name);return e},a.zoneParse=function(e){var t=[];return e?(t[0]=e[0],e[1]?yn.test(e[1])?(t[2]=e[2],e[3]?(t[3]=e[3],t):t):(t[1]=e[1],yn.test(e[2])?(t[2]=e[3],e[4]?(t[3]=e[4],t):t):t):t):""},a.signDirectionClickHandler=function(e){a.setState({paneSelection:3}),e.stopPropagation()},a.signArrowSelectHandler=function(e){var t=Number(e.target.id.charAt(4));a.setState({attributes:Object(D.a)({},a.state.attributes,{SIGNARROWDIRECTION:t}),paneSelection:1})},a.renderMuttInput=function(){return b.a.createElement("span",{className:a.state.muttDupe?"InnerMUTCD_error":"InnerMUTCD"},b.a.createElement("div",{className:"EditorMuttCode"},a.state.MUTCD.name.toUpperCase(),":"),b.a.createElement("div",{className:"EditorMuttDesc"},a.state.MUTCD.name))},a.mutcdLookUpSelectHandler=function(e){var t=e.name.split(":"),n=a.props.map.muttArray.find(function(e){return e.code.toLowerCase()===t[0].toLowerCase()}),r=he(n).next(),s=gn(n.code);a.setState({MUTCD:r.value.payload.args[0][0],muttInput:!1,showInfo:!0,speedo:s,attributes:Object(D.a)({},a.state.attributes,{SIGNNUMBER:s.speedLimit})})},a.muttSelectorOpenHandler=function(e){a.setState({muttInput:!0})},a.cancelLookupHandler=function(e){a.setState({muttInput:!1}),e.stopPropagation()},a.renderMuttDownshift=function(){return b.a.createElement(g.Fragment,null,b.a.createElement("label",{onClick:a.cancelLookupHandler,className:"DownshiftLabel"},"X"),b.a.createElement(En.a,{onChange:function(e){return a.mutcdLookUpSelectHandler(e)},itemToString:function(e){return e?e.name:""}},function(e){var t=e.getInputProps,n=e.getItemProps,r=(e.getLabelProps,e.getMenuProps),s=e.isOpen,i=e.inputValue,o=e.highlightedIndex,c=e.selectedItem;return b.a.createElement("div",null,b.a.createElement("input",t(a.inputProps)),b.a.createElement("ul",r(a.menuProps),s?a.items.filter(function(e){return!i||e.name.includes(i.toUpperCase())}).map(function(e,t){return b.a.createElement("li",n({key:e.id,index:t,item:e,style:{backgroundColor:o===t?"lightgray":"white",fontWeight:c===e?"bold":"normal"}}),e.name)}):null))}))},a.readMUTCDinfo=function(){return b.a.createElement("div",null,b.a.createElement("img",{src:a.state.MUTCD.serverImagePath,className:"SignEditorImage",alt:"sign"}),b.a.createElement("div",null,a.state.MUTCD.code,": ",a.state.MUTCD.name),b.a.createElement("div",null,"Tags:",a.state.MUTCD.tags),b.a.createElement("ul",null,a.state.MUTCD.isParking?b.a.createElement("li",null,"Parking Sign"):"",a.state.MUTCD.isSpeedLimit?b.a.createElement("li",null,"Speed Limit Sign"):"",a.state.MUTCD.isNonstandard?b.a.createElement("li",null,"Non-Standard Sign"):"",a.state.MUTCD.needsArrow?b.a.createElement("li",null,"Requires Direction Arrow"):"",a.state.MUTCD.needsTimeband?b.a.createElement("li",null,"Requires Time Restriction"):""))},a.MPHSelectHandler=function(e){a.setState({attributes:Object(D.a)({},a.state.attributes,{SIGNNUMBER:Number(e.target.value)})})},a.statusChangeHandler=function(e){a.setState({attributes:Object(D.a)({},a.state.attributes,{SIGNSTATUS:Number(e.target.value)})})},a.signTextChangeHandler=function(e){a.setState({attributes:Object(D.a)({},a.state.attributes,{SIGNTEXT:e.target.value})})},a.timebandChangeHandler=function(e,t,n){var r=a.state.timebands;switch(n){case 0:r[t].attributes.STARTDAY=Number(e.target.value),r[t].attributes.SIGNWORKS_LAST_EDITED_BY=a.props.auth.user.username;break;case 1:r[t].attributes.ENDDAY=Number(e.target.value),r[t].attributes.SIGNWORKS_LAST_EDITED_BY=a.props.auth.user.username;break;case 2:r[t].attributes.STARTTIME=Number(e.target.value),r[t].attributes.SIGNWORKS_LAST_EDITED_BY=a.props.auth.user.username;break;case 3:r[t].attributes.ENDTIME=Number(e.target.value),r[t].attributes.SIGNWORKS_LAST_EDITED_BY=a.props.auth.user.username;break;case 4:r[t].attributes.HOURLIMIT=Number(e.target.value),r[t].attributes.SIGNWORKS_LAST_EDITED_BY=a.props.auth.user.username;break;case 5:r[t].attributes.STARTDAY=Number(e.target.value),r[t].attributes.ENDDAY=0,r[t].attributes.STARTTIME=0,r[t].attributes.ENDTIME=0,r[t].attributes.HOURLIMIT=0,r[t].attributes.SIGNWORKS_LAST_EDITED_BY=a.props.auth.user.username;break;case 6:r[t].attributes.STARTDAY=Number(e.target.value),r[t].attributes.ENDDAY=0,r[t].attributes.SIGNWORKS_LAST_EDITED_BY=a.props.auth.user.username}!function(e){var t=e.attributes.STARTDAY,a=e.attributes.ENDDAY,n=e.attributes.STARTTIME,r=e.attributes.ENDTIME,s=[];t<8&&(a<t&&s.push(1),a<1&&s.push(2),n<1&&s.push(4),r<1&&s.push(8),r<n&&s.push(16))}(r[t]),0!==r[t].action&&2!==r[t].action||(r[t].action=2),a.setState({timebands:Object(A.a)(r)})},a.timebandErrorMessageHandler=function(e){a.setState({errorMessage:e}),""==e?a.setState({cantSave:!1},a.timebandCollisionHandler):a.setState({cantSave:!0},a.timebandCollisionHandler)},a.timebandAddHandler=function(e){var t=Object(A.a)(a.state.timebands),n={attributes:{CREATED_DATE:null,CREATED_USER:null,ENDDAY:0,ENDTIME:0,EXCEPTION:null,GLOBALID:null,HOURLIMIT:0,LAST_EDITED_DATE:null,LAST_EDITED_USER:null,LINKID:null,OBJECTID:null,ORIGIN_ID:null,RESTRICTIONORDER:null,RESTRICTIONSTATUS:null,SIGNID:e,SPACEARROW:null,SPACEID:null,STARTDAY:1,STARTTIME:0,SIGNWORKS_CREATED_BY:a.props.auth.user.username,SIGNWORKS_LAST_EDITED_BY:a.props.auth.user.username},action:1};t.push(n),a.setState({timebands:Object(A.a)(t)})},a.timebandDeleteHandler=function(e,t,n){var r=Object(A.a)(a.state.timebands);0===r[t].action||2===r[t].action?r[t].action=3:r[t].action=0,a.setState({timebands:Object(A.a)(r)})},a.timebandComparer=function(e,t){return 8===e.attributes.STARTDAY||8===t.attributes.STARTDAY?(a.setState({collisionMessage:"Can't have another time restriction with ANYTIME"}),!0):e.attributes.STARTDAY<=t.attributes.STARTDAY&&e.attributes.ENDDAY>=t.attributes.STARTDAY&&e.attributes.STARTTIME<=t.attributes.STARTTIME&&e.attributes.ENDTIME>=t.attributes.STARTTIME?(a.setState({collisionMessage:"Timebands Overlap"}),!0):(a.setState({collisionMessage:""}),!1)},a.timebandCollisionHandler=function(){if(1===a.state.timebands.length){if(8===a.state.timebands[0].attributes.STARTDAY)return void a.setState({cantAdd:!0});a.setState({cantAdd:!1})}if(""!=a.state.errorMessage||""!=a.state.collisionMessage?a.setState({cantAdd:!0}):a.setState({cantAdd:!1}),a.state.timebands.length>1)for(var e=0;e<a.state.timebands.length;e++)for(var t=0;t<a.state.timebands.length;t++)if(e!==t){if(a.timebandComparer(a.state.timebands[e],a.state.timebands[t])){var n=Object(A.a)(a.state.timebands);return n[e].conflict=!0,n[t].conflict=!0,void a.setState({timebands:n,cantSave:!0})}var r=Object(A.a)(a.state.timebands);r[e].conflict=!1,r[t].conflict=!1,""!=a.state.errorMessage?a.setState({timebands:r,cantSave:!0}):a.setState({timebands:r,cantSave:!1})}},a.signTypes=new He,a.items=[],a.inputProps={size:30,autoFocus:!0},a.menuProps={style:{listStyle:"none"}},a.formattedMuttArray=function(){for(var e=[],t=0;t<a.props.map.muttArray.length;t++){var n={};n.name=a.props.map.muttArray[t].code.toUpperCase()+":"+a.props.map.muttArray[t].name.toUpperCase(),n.id=a.props.map.muttArray[t].id,e.push(n)}return e};var n=a.zoneParse(a.props.map.signs[a.props.map.editSignIndex].feature.attributes.ZONE_ID),r=va()(a.props.map.signs[a.props.map.editSignIndex]),s=va()(a.props.map.signs[a.props.map.editSignIndex].feature);a.state=Object(D.a)({},r,s,{paneSelection:1,muttSelected:!1,showInfo:!1,muttInput:!1,ward1:n[0],anc1:n[1],ward2:n[2],anc2:n[3],muttDupe:!1,zoneChecked:!0,speedo:gn(a.props.map.signs[a.props.map.editSignIndex].feature.attributes.SIGNCODE),errorMessage:"",collisionMessage:"",cantSave:!1,cantAdd:!1});for(var i=0;i<a.state.timebands.length;i++)a.state.timebands[i].action=0,a.state.timebands[i].conflict=!1;return a.items=a.formattedMuttArray(),a}return Object(Zt.a)(t,e),Object(B.a)(t,[{key:"componentDidMount",value:function(){this.timebandCollisionHandler()}},{key:"render",value:function(){var e=window.location.origin+window.location.pathname+"/img/PR-OTHER.png";return b.a.createElement(hn,Object.assign({},this.props,{title:"Edit Sign",width:400,showOk:this.props.map.showOk}),b.a.createElement("div",{className:1===this.state.paneSelection?"SignEditorOver":"SignEditorUnder"},b.a.createElement("div",{className:"SignEditCancel",title:"Close Window",onClick:this.cancelClickHandler},"X"),b.a.createElement("div",{className:"MUTCDdiv",onClick:this.muttSelectorOpenHandler},b.a.createElement(Aa.a,{src:[this.state.MUTCD.serverImagePath,e],className:"SignEditorImage",alt:"sign"}),this.state.muttInput?this.renderMuttDownshift():this.renderMuttInput(),b.a.createElement("span",null,b.a.createElement(Aa.a,{alt:"sign direction",src:[this.state.attributes.SIGNARROWDIRECTION?window.location.origin+window.location.pathname+"/img/"+this.state.attributes.SIGNARROWDIRECTION+".png":window.location.origin+window.location.pathname+"/img/0.png"],onClick:this.signDirectionClickHandler,className:"SignDirectionArrow"}))),b.a.createElement("div",null,b.a.createElement("hr",{className:"EditorHorizontalBar"})),b.a.createElement("div",{className:"SignAttributes"},b.a.createElement("p",null," ID: ",this.state.attributes.GLOBALID),b.a.createElement("span",{className:"mph"},"MPH:",b.a.createElement("select",{value:null!=this.state.speedo.speedLimit?0!=this.state.speedo.speedLimit?this.state.speedo.speedLimit:this.state.attributes.SIGNNUMBER:"",disabled:this.state.speedo.disabled,onChange:this.MPHSelectHandler},We(this.signTypes._codedValuesSpeedLimit))),b.a.createElement("span",{className:this.state.zoneChecked?"ZoneSpan":"ZoneSpan_error"},b.a.createElement(fn,{props:Object(D.a)({},this.state),change:this.zoneChangeHandler})),b.a.createElement("div",{className:"StatusDiv"},b.a.createElement("span",null,"Status:",b.a.createElement("select",{className:"StatusSelect",value:this.state.attributes.SIGNSTATUS,onChange:this.statusChangeHandler},We(this.signTypes._codedValuesSignStatus))),b.a.createElement("div",{className:"SignTextSpan"},"Sign Text:",b.a.createElement("textarea",{value:null===this.state.attributes.SIGNTEXT?"":this.state.attributes.SIGNTEXT,onChange:this.signTextChangeHandler,rows:"4",className:"SignText"}))),b.a.createElement("div",{className:"TimebandDiv"},b.a.createElement(xa,{bands:this.state.timebands,edit:!0,change:this.timebandChangeHandler,add:this.timebandAddHandler,delete:this.timebandDeleteHandler,error:this.timebandErrorMessageHandler,cantAdd:this.state.cantAdd,signId:this.state.feature.attributes.GLOBALID})),b.a.createElement("div",{className:"SignEditButtonDiv"},b.a.createElement("button",{onClick:this.saveClickHandler,disabled:this.state.cantSave},"SAVE"),b.a.createElement("button",{onClick:this.cancelClickHandler},"CANCEL")),b.a.createElement("div",null,""!=this.state.errorMessage||""!=this.state.collisionMessage?"Validation Errors:":""),b.a.createElement("div",null,b.a.createElement("b",null,this.state.errorMessage)),b.a.createElement("div",null,b.a.createElement("b",null,this.state.collisionMessage)))),b.a.createElement("div",{className:3===this.state.paneSelection?"SignEditorOver":"SignEditorUnder"},b.a.createElement("div",{className:"SignEditCancel",title:"Close Window",onClick:this.cancelClickHandler},"X"),"SIGN ARROW DIRECTION SELECTOR TOOL",b.a.createElement("table",{className:"dirSignTable"},b.a.createElement("tbody",null,b.a.createElement("tr",null,b.a.createElement("td",null,b.a.createElement("img",{alt:"6",src:"img/6.png",className:"dirSign",onClick:this.signArrowSelectHandler,id:"dir_6"})),b.a.createElement("td",null,b.a.createElement("img",{alt:"4",src:"img/4.png",className:"dirSign",onClick:this.signArrowSelectHandler,id:"dir_4"})),b.a.createElement("td",null,b.a.createElement("img",{alt:"8",src:"img/8.png",className:"dirSign",onClick:this.signArrowSelectHandler,id:"dir_8"}))),b.a.createElement("tr",null,b.a.createElement("td",null,b.a.createElement("img",{alt:"1",src:"img/1.png",className:"dirSign",onClick:this.signArrowSelectHandler,id:"dir_1"})),b.a.createElement("td",null,b.a.createElement("img",{alt:"3",src:"img/3.png",className:"dirSign",onClick:this.signArrowSelectHandler,id:"dir_3"})),b.a.createElement("td",null,b.a.createElement("img",{alt:"2",src:"img/2.png",className:"dirSign",onClick:this.signArrowSelectHandler,id:"dir_2"}))),b.a.createElement("tr",null,b.a.createElement("td",null,b.a.createElement("img",{alt:"7",src:"img/7.png",className:"dirSign",onClick:this.signArrowSelectHandler,id:"dir_7"})),b.a.createElement("td",null,b.a.createElement("img",{alt:"5",src:"img/5.png",className:"dirSign",onClick:this.signArrowSelectHandler,id:"dir_5"})),b.a.createElement("td",null,b.a.createElement("img",{alt:"9",src:"img/9.png",className:"dirSign",onClick:this.signArrowSelectHandler,id:"dir_9"}))),b.a.createElement("tr",null,b.a.createElement("td",null,b.a.createElement("img",{alt:"0",src:"img/0.png",className:"dirSign",onClick:this.signArrowSelectHandler,id:"dir_0"})),b.a.createElement("td",null,"(no direction)")))),b.a.createElement("p",null,"Click A Selection to Return To The Editor")))}}]),t}(g.Component),Tn=(a(194),function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(Jt.a)(this,Object(Xt.a)(t).call(this,e))).items=[],a.inputProps={size:40,autoFocus:!0},a.menuProps={style:{listStyle:"none"}},a.supportTypes=new Le,a.signTypes=new He,a.formattedMuttArray=function(){for(var e=[],t=0;t<a.props.map.muttArray.length;t++){var n={};n.name=a.props.map.muttArray[t].code.toUpperCase()+":"+a.props.map.muttArray[t].name.toUpperCase(),n.id=a.props.map.muttArray[t].id,e.push(n)}return e},a.mutcdLookUpSelectHandler=function(e){a.props.removeQueryGraphics();var t=e.name.split(":");a.setState({selectedMutt:t[0],selected:!0}),a.myRef.current.focus()},a.cancelClickHandler=function(){a.props.modalClicked(!1,null)},a.whereConcatHandler=function(){var e=!1,t="";return a.state.selectedMutt&&(t="SIGNCODE='"+a.state.selectedMutt+"'",e=!0),a.state.selectedSupportId&&(t+=(e?" AND ":"")+" SUPPORTID='"+a.state.selectedSupportId+"'",e=!0),a.state.selectedSignId&&(t+=(e?" AND ":"")+" SIGNID='"+a.state.selectedSignId+"'",e=!0),a.state.selectedSupportType>0&&(t+=(e?" AND ":"")+" SUPPORTTYPE="+a.state.selectedSupportType,e=!0),a.state.selectedSupportStatus>-1&&(t+=(e?" AND ":"")+" SUPPORTSTATUS="+a.state.selectedSupportStatus,e=!0),a.state.selectedSignStatus>-1&&(t+=(e?" AND ":"")+" SIGNSTATUS="+a.state.selectedSignStatus,e=!0),a.state.selectedMph>0&&(t+=(e?" AND ":"")+" SIGNNUMBER='"+a.state.selectedMph+"'",e=!0),a.state.selectedSubblockKey&&(t+=(e?" AND ":"")+" SUBBLOCKKEY='"+a.state.selectedSubblockKey+"'",e=!0),a.state.selectedSignText&&(t+=(e?" AND ":"")+" SIGNTEXT LIKE '%"+a.state.selectedSignText+"%'",e=!0),t},a.searchClickHandler=function(e){var t=a.whereConcatHandler();a.props.removeQueryGraphics();var n=null;1===a.state.selectedExtent?n=a.props.map.extent:2===a.state.selectedExtent?n=null:3===a.state.selectedExtent?a.props.graphic.queryCustExt?n=a.props.graphic.queryCustExt:alert("No custom extent was drawn."):alert("you have no extent selected, somehow");var r=X(a.props).superquery;a.props.querySuperQuery(t,n,r)},a.tabSelectHandler=function(e){1==e?a.setState({tab1select:!0,tab2select:!1,tab3select:!1}):2==e?a.setState({tab1select:!1,tab2select:!0,tab3select:!1}):a.setState({tab1select:!1,tab2select:!1,tab3select:!0})},a.supportIdChangeHandler=function(e){a.setState({selectedSupportId:e.target.value.trim()})},a.signIdChangeHandler=function(e){console.log(e.target.value),a.setState({selectedSignId:e.target.value.trim()})},a.signTextChangeHandler=function(e){a.setState({selectedSignText:e.target.value})},a.supportTypeChangeHandler=function(e){a.setState({selectedSupportType:Number(e.target.value)})},a.supportStatusChangeHandler=function(e){a.setState({selectedSupportStatus:Number(e.target.value)})},a.mphChangeHandler=function(e){a.setState({selectedMph:Number(e.target.value)})},a.signStatusChangeHandler=function(e){a.setState({selectedSignStatus:Number(e.target.value)})},a.subblockKeyChangeHandler=function(e){a.setState({selectedSubblockKey:e.target.value.trim()})},a.clearAttribHandler=function(){a.setState({selectedSupportId:"",selectedSignId:"",selectedSupportType:0,selectedSupportStatus:1,selectedSignStatus:1,selectedMph:"",selectedSubblockKey:"",selected:!1,ready:!0})},a.extentChangeHandler=function(e){a.props.removeQueryGraphics(),a.props.setQueryCustomExtent(null),a.setState({selectedExtent:Number(e.target.value)})},a.drawButtonClickHandler=function(e){a.yourRef.current.checked=!0;a.extentChangeHandler({target:{value:3}}),a.props.setMapClickMode(qe.DRAW_MODE,"default")},a.myRef=b.a.createRef(),a.yourRef=b.a.createRef(),a.state={selectedMutt:"",selectedSupportId:"",selectedSignId:"",selectedSupportType:0,selectedSupportStatus:1,selectedSignStatus:1,selectedMph:"",selectedSubblockKey:"",selectedSignText:"",selected:!1,ready:!0,hidden:!1,tab1select:!0,tab2select:!1,tab3select:!1,selectedExtent:1,customExtent:null},a.items=a.formattedMuttArray(),a.props.removeQueryGraphics(),a}return Object(Zt.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){var e=this;return b.a.createElement(hn,Object.assign({},this.props,{title:"Query",width:400,showOk:this.props.showOk}),b.a.createElement("div",{className:"SuperQuery"},b.a.createElement("div",{className:"SuperQueryCancel",title:"Close Window",onClick:this.cancelClickHandler},"X"),b.a.createElement("div",{className:"queryTabRow"},b.a.createElement("div",{className:this.state.tab1select?"queryTabSelect":"queryTab",onClick:function(){return e.tabSelectHandler(1)}},"MUTCD"),b.a.createElement("div",{className:this.state.tab2select?"queryTabSelect":"queryTab",onClick:function(){return e.tabSelectHandler(2)}},"ATTRIBUTES"),b.a.createElement("div",{className:this.state.tab3select?"queryTabSelect":"queryTab",onClick:function(){return e.tabSelectHandler(3)}},"EXTENT")),b.a.createElement("div",{className:this.state.tab1select?"queryTabContentSelected":"queryTabContent"},b.a.createElement("p",null,"Type a partial MUTCD and select from results"),b.a.createElement(En.a,{onChange:function(t){return e.mutcdLookUpSelectHandler(t)},itemToString:function(e){return e?e.name:""}},function(t){var a=t.getInputProps,n=t.getItemProps,r=t.getMenuProps,s=t.isOpen,i=t.inputValue,o=t.highlightedIndex,c=t.selectedItem;return b.a.createElement("div",null,b.a.createElement("input",a(e.inputProps)),b.a.createElement("ul",r(e.menuProps),s?e.items.filter(function(e){return!i||e.name.includes(i.toUpperCase())}).map(function(e,t){return b.a.createElement("li",n({key:e.id,index:t,item:e,style:{backgroundColor:o===t?"lightgray":"white",fontWeight:c===e?"bold":"normal"}}),e.name)}):null))})),b.a.createElement("div",{className:this.state.tab2select?"queryTabContentSelected":"queryTabContent"},b.a.createElement("div",null,b.a.createElement("label",null,"MUTCD:"),b.a.createElement("input",{type:"text",disabled:!0,value:this.state.selectedMutt,className:"selectedMUTCD"})),b.a.createElement("div",null,b.a.createElement("label",null,"MPH:"),b.a.createElement("select",{className:"selectedMPH",value:this.state.selectedMph,onChange:this.mphChangeHandler},We(this.signTypes._codedValuesSpeedLimit))),b.a.createElement("div",null,b.a.createElement("label",null,"SUBBLOCK KEY:"),b.a.createElement("input",{type:"text",className:"selectedSubblockKey",value:this.state.selectedSubblockKey,onChange:this.subblockKeyChangeHandler})),b.a.createElement("hr",null),b.a.createElement("div",null,b.a.createElement("label",null,"SUPPORT STATUS:"),b.a.createElement("select",{className:"selectedSupportStatus",value:this.state.selectedSupportStatus,onChange:this.supportStatusChangeHandler},We(this.supportTypes._codedValuesSupportStatus))),b.a.createElement("div",null,b.a.createElement("label",null,"SUPPORT TYPE:"),b.a.createElement("select",{className:"selectedSupportType",value:this.state.selectedSupportType,onChange:this.supportTypeChangeHandler},We(this.supportTypes._codedValuesSupportType0))),b.a.createElement("div",null,b.a.createElement("label",null,"SUPPORT ID:"),b.a.createElement("input",{type:"text",className:"selectedSupportId",value:this.state.selectedSupportId,onChange:this.supportIdChangeHandler})),b.a.createElement("hr",null),b.a.createElement("div",null,b.a.createElement("label",null,"SIGN STATUS:"),b.a.createElement("select",{className:"selectedSignStatus",value:this.state.selectedSignStatus,onChange:this.signStatusChangeHandler},We(this.signTypes._codedValuesSignStatus))),b.a.createElement("div",null,b.a.createElement("label",null,"SIGN ID:"),b.a.createElement("input",{type:"text",className:"selectedSignId",value:this.state.selectedSignId,onChange:this.signIdChangeHandler})),b.a.createElement("div",null,b.a.createElement("label",null,"SIGN TEXT:"),b.a.createElement("input",{type:"text",className:"selectedSignId",value:this.state.selectedSignText,onChange:this.signTextChangeHandler}))),b.a.createElement("div",{className:this.state.tab3select?"queryTabContentSelected":"queryTabContent"},b.a.createElement("div",{className:"queryRadioDiv"},b.a.createElement("input",{type:"radio",name:"extent",value:"1",defaultChecked:!0,className:"queryRadioButton",onChange:this.extentChangeHandler}),b.a.createElement("div",{className:"extentTextDiv"},"Map Extent - Will search the general area shown on the map.")),b.a.createElement("hr",null),b.a.createElement("div",{className:"queryRadioDiv"},b.a.createElement("input",{type:"radio",name:"extent",value:"2",className:"queryRadioButton",onChange:this.extentChangeHandler}),b.a.createElement("div",{className:"extentTextDiv"},"City Extent - Will search the entire area of the District. Primarily for use with IDs, using this option for a MUTCD may result in queries that are too big to be useful.")),b.a.createElement("hr",null),b.a.createElement("div",{className:"queryRadioDiv"},b.a.createElement("input",{type:"radio",name:"extent",value:"3",ref:this.yourRef,className:"queryRadioButton",onClick:this.extentChangeHandler}),b.a.createElement("div",{className:"extentTextDiv"},"Custom Extent - Use the Draw Tool to make a search extent."),b.a.createElement("button",{className:"drawButton",onClick:this.drawButtonClickHandler,disabled:3!=this.state.selectedExtent},b.a.createElement(Na.a,{icon:Ca.b,title:"Edit Sign"})))),b.a.createElement("div",{className:"bottomDiv"},b.a.createElement("div",null,b.a.createElement("p",null," ",this.props.graphic.queryCount<0?"Press SEARCH to query map":this.props.graphic.queryCount+" features found")),b.a.createElement("button",{onClick:this.clearAttribHandler,disabled:!this.state.tab2select,className:"queryButtons"},"CLEAR"),b.a.createElement("button",{ref:this.myRef,onClick:this.searchClickHandler,disabled:this.selected,className:"queryButtons"},"SEARCH"))))}}]),t}(g.Component)),On=(a(195),function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(Jt.a)(this,Object(Xt.a)(t).call(this,e))).addressSearch=function(e){13===e.which&&a.props.queryMAR(a.state.searchText)},a.textChange=function(e){a.setState({searchText:e.target.value})},a.cancelClickHandler=function(e){a.props.modalClicked(!1,null)},a.addressSelectHandler=function(e){var t=a.props.graphic.marResults.returnDataset.Table1[e.target.value];a.setState({selectedOpt:t})},a.GoToPointonMapButtonHandler=function(e){var t={type:"point",x:a.state.selectedOpt.LONGITUDE,y:a.state.selectedOpt.LATITUDE,spatialReference:{wkid:4326}};a.props.zoomToSelectedPoint(t)},a.optionMap=function(e,t,a){switch(a){case"DC Place":return b.a.createElement("option",{key:"item-".concat(t),index:t,value:t},e.ALIASNAME+" ("+e.WARD+")");case"DC Address":return b.a.createElement("option",{key:"item-".concat(t),index:t,value:t},e.FULLADDRESS+" ("+e.WARD+")");case"DC Intersection":return b.a.createElement("option",{key:"item-".concat(t),index:t,value:t},e.FULLINTERSECTION+" ("+e.WARD+")");case"DC Block Address":return b.a.createElement("option",{key:"item-".concat(t),index:t,value:t},e.BLOCKNAME+" ("+e.WARD+")")}},a.renderDetails=function(e){return e?b.a.createElement("div",{className:"MARresultsDetails"},e.ALIASNAME?b.a.createElement("p",null,"ALIAS: ",e.ALIASNAME):null,e.FULLADDRESS?b.a.createElement("p",null,"ADDRESS:",e.FULLADDRESS):null,e.SMD?b.a.createElement("p",null,"SMD:",e.SMD):null,e.ANC?b.a.createElement("p",null,"ANC: ",e.ANC):null,e.WARD?b.a.createElement("p",null,"WARD:",e.WARD):null,e.VOTE_PRCNCT?b.a.createElement("p",null,"VOTER PRECINCT:",e.VOTE_PRCNCT):null,b.a.createElement("button",{onClick:a.GoToPointonMapButtonHandler},"Go To This Location")):void 0},a.renderOptions=function(){var e=a.props.graphic.marResults;return e?e.returnDataset?b.a.createElement("select",{multiple:!0,className:"MARresults",onChange:a.addressSelectHandler},a.props.graphic.marResults.returnDataset.Table1.map(function(t,n){return a.optionMap(t,n,e.sourceOperation)})):b.a.createElement("select",{multiple:!0,className:"MARresults"},b.a.createElement("option",null,"No Results Returned")):b.a.createElement("select",{multiple:!0,className:"MARresults"},b.a.createElement("option",null,"Results Appear Here"))},a.state={searchText:"",selectedOpt:null},a.props.removeQueryResults(),a}return Object(Zt.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){return b.a.createElement(hn,Object.assign({},this.props,{title:"MAR Query",width:400,showOk:this.props.map.showOk}),b.a.createElement("div",{className:"MAR"},b.a.createElement("div",{className:"MARCancel",title:"Close Window",onClick:this.cancelClickHandler},"X"),b.a.createElement("p",null,"TYPE AN ADDRESS AND PRESS ENTER"),b.a.createElement("input",{onKeyPress:this.addressSearch,className:"MARsearch",onChange:this.textChange,value:this.state.searchText,autoFocus:!0}),(this.props.graphic.returnDataset,this.renderOptions()),b.a.createElement("div",null,this.renderDetails(this.state.selectedOpt))))}}]),t}(g.Component)),Rn=Object(T.b)(function(e){return{map:e.map,graphic:e.graphic,auth:e.auth,config:e.config}},function(e){return Object(O.b)(Object(D.a)({},Ue,Qe),e)})(On);var wn=Object(T.b)(function(e){return{map:e.map,config:e.config}},function(e){return Object(O.b)(Object(D.a)({},Ue,Qe),e)})(function(e){switch(e.map.currentModal){case"SUPPORT":return b.a.createElement(Sn,e);case"SIGN":return b.a.createElement(vn,e);case"QUERY":return b.a.createElement(Tn,e);case"MAR":return b.a.createElement(Rn,e);default:return null}}),Mn=(a(196),a(197),"StreetSmart-container"),An=function(e){function t(){var e,a;Object(V.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(Jt.a)(this,(e=Object(Xt.a)(t)).call.apply(e,[this].concat(r)))).ssCancel=function(){var e=window.StreetSmartApi.Events.measurement;window.StreetSmartApi.off(e.MEASUREMENT_CHANGED),window.panoramaViewer.off(window.StreetSmartApi.Events.panoramaViewer.VIEW_CHANGE).off(window.StreetSmartApi.Events.panoramaViewer.VIEW_LOAD_END),window.StreetSmartApi.destroy({targetElement:document.getElementById(Mn)}),a.props.closeStreetSmartViewer()},a.startup=function(e){var t,n,r,s=a.props.graphic.ssInputGeom[0].x,i=a.props.graphic.ssInputGeom[0].y,o=a.props.graphic.ssgeoJSONselPoint,c=a.props.graphic.ssOverlay,l=a.props.auth,u=a.props.getNewCone,p=a.props.graphic.editMode,d=a.props.newSupport,m=X(a.props),h=a.props.setMapClickMode,S=a.ssCancel,E=[{name:"Nearby Supports",geojson:c,sldXMLtext:' <?xml version="1.0"  encoding="ISO-8859-1"?><StyledLayerDescriptor  version="1.0.0"             xsi:schemaLocation="http://www.opengis.net/sld  StyledLayerDescriptor.xsd" xmlns="http://www.opengis.net/sld" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><NamedLayer><Name>Simple  point  with  stroke</Name><UserStyle><Title>GeoServer  SLD  Cook  Book:  Simple  point  with  stroke</Title><FeatureTypeStyle><Rule><PointSymbolizer><Graphic><Mark><WellKnownName>circle</WellKnownName><Fill><CssParameter  name="fill">#FF0000</CssParameter></Fill><Stroke><CssParameter  name="stroke">#000000</CssParameter><CssParameter  name="stroke-width">2</CssParameter></Stroke></Mark><Size>16</Size></Graphic></PointSymbolizer></Rule></FeatureTypeStyle></UserStyle></NamedLayer></StyledLayerDescriptor>'},{name:"Selected Support",geojson:o,sldXMLtext:'<?xml version="1.0"  encoding="ISO-8859-1"?><StyledLayerDescriptor  version="1.0.0"             xsi:schemaLocation="http://www.opengis.net/sld  StyledLayerDescriptor.xsd" xmlns="http://www.opengis.net/sld" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><NamedLayer><Name>Simple  point  with  stroke</Name><UserStyle><Title>GeoServer  SLD  Cook  Book:  Simple  point  with  stroke</Title><FeatureTypeStyle><Rule><PointSymbolizer><Graphic><Mark><WellKnownName>circle</WellKnownName><Fill><CssParameter  name="fill">#00000000</CssParameter><CssParameter name="fill-opacity">0.2</CssParameter></Fill><Stroke><CssParameter  name="stroke">#E633FF</CssParameter><CssParameter  name="stroke-width">2</CssParameter></Stroke></Mark><Size>19</Size></Graphic></PointSymbolizer></Rule></FeatureTypeStyle></UserStyle></NamedLayer></StyledLayerDescriptor>'}],f=function(e){var t=window.StreetSmartApi.Events.measurement,a=window.StreetSmartApi.getActiveMeasurement();null!=a.features[0].geometry.coordinates&&(d(a,l,m),window.StreetSmartApi.off(t.MEASUREMENT_CHANGED),h(qe.SELECT_SUPPORT_MODE,"default"),S())},g=function(e){},b=function(e){r=e.detail.hFov,t=e.detail.pitch,n=e.detail.yaw,u(window.panoramaViewer._panoramaViewer._activeRecording.xyz,t,n,r,m,"StreetSmart")},y=function(e){window.panoramaViewer.rotateLeft(.01),p&&window.panoramaViewer.toggleSidebarVisible(!1)};window.StreetSmartApi.init({username:"signworks",password:"SIGNWORKS",apiKey:"CnkxOTY52fExizg9C_EVanMh2j0RK3gxuzURif89eLsZu3ghqTAt6LEdKng56fo1",targetElement:document.getElementById(Mn),srs:"EPSG:2248",locale:"en-us",configurationUrl:"https://atlas.cyclomedia.com/configuration",addressSettings:{locale:"en",database:"Nokia"}}).then(function(){var e=window.StreetSmartApi.ViewerType.PANORAMA;window.StreetSmartApi.open(s+","+i,{viewerType:e,srs:"EPSG:2248",panoramaViewer:{closable:!1,replace:!1}}).then(function(e){if(e)for(var t=0;t<e.length;t++){if(e[t].getType()===window.StreetSmartApi.ViewerType.PANORAMA&&(window.panoramaViewer=e[t]),window.panoramaViewer.toggleNavbarExpanded(!1),p){window.StreetSmartApi.startMeasurementMode(window.panoramaViewer,{geometry:window.StreetSmartApi.MeasurementGeometryType.POINT});var a=window.StreetSmartApi.Events.measurement;window.StreetSmartApi.on(a.MEASUREMENT_CHANGED,f),window.panoramaViewer.toggleNavbarVisible(!1)}for(var n in window.panoramaViewer.closable=!1,window.panoramaViewer.on(window.StreetSmartApi.Events.panoramaViewer.VIEW_CHANGE,b),window.panoramaViewer.on(window.StreetSmartApi.Events.panoramaViewer.VIEW_LOAD_END,y),window.panoramaViewer.on(window.StreetSmartApi.Events.panoramaViewer.FEATURE_CLICK,g),E)window.StreetSmartApi.addOverlay(E[n])}})},function(e){alert("Api Init Failed!"+e)})},a}return Object(Zt.a)(t,e),Object(B.a)(t,[{key:"componentDidMount",value:function(){window.StreetSmartApi.getApiReadyState()?(console.log("api already initialized"),window.StreetSmartApi.destroy({targetElement:document.getElementById(Mn)}),this.startup(Mn)):this.startup(Mn)}},{key:"shouldComponentUpdate",value:function(e,t){return e.graphic.ssInputGeom[0]!=this.props.graphic.ssInputGeom[0]}},{key:"componentDidUpdate",value:function(e,t,a){if(e.graphic.ssInputGeom[0]!=this.props.graphic.ssInputGeom[0]){var n=window.StreetSmartApi.Events.measurement;window.StreetSmartApi.off(n.MEASUREMENT_CHANGED),window.panoramaViewer.off(window.StreetSmartApi.Events.panoramaViewer.VIEW_CHANGE).off(window.StreetSmartApi.Events.panoramaViewer.VIEW_LOAD_END),window.StreetSmartApi.destroy({targetElement:document.getElementById(Mn)}),this.startup(Mn)}}},{key:"render",value:function(){return b.a.createElement("div",{className:"StreetSmart"},b.a.createElement("div",{className:"ssCancel",onClick:this.ssCancel},"X"),b.a.createElement("div",{ref:"ssDiv",className:"ssPane",id:Mn}))}}]),t}(g.Component),Cn=Object(T.b)(function(e){return{map:e.map,graphic:e.graphic,auth:e.auth,config:e.config}},function(e){return Object(O.b)(Object(D.a)({},Ue,Qe),e)})(An),Dn=a(85),Nn=a.n(Dn),_n=(a(200),function(e){function t(){var e,a;Object(V.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(Jt.a)(this,(e=Object(Xt.a)(t)).call.apply(e,[this].concat(r)))).pos={x:null,y:null,spatialReference:{wkid:4326},isWGS84:!0,type:"point"},a.pov=null,a.ggCancel=function(){a.props.closeStreetSmartViewer()},a.povChangeHandler=function(e){a.props.getNewCone(a.pos,e.pitch,e.heading,60/e.zoom,X(a.props),"Google"),a.pov=e},a.posChangeHandler=function(e){var t;a.pos.x=e.lng(),a.pos.y=e.lat(),t=null===a.pov?a.props.graphic.initialBearing:a.pov.heading,a.props.getNewCone(a.pos,-5,t,X(a.props),"Google")},a}return Object(Zt.a)(t,e),Object(B.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.graphic.selSupportGeom!=e.graphic.selSupportGeom}},{key:"componentDidUpdate",value:function(e,t,a){if(e.graphic.selSupportGeom!=this.props.graphic.selSupportGeom){this.props.closeStreetSmartViewer();var n={geometry:this.props.graphic.selSupportGeom};this.props.startGoogleStreetViewer(n,X(this.props),6)}}},{key:"render",value:function(){var e=this;return b.a.createElement("div",{className:"GoogleMaps"},b.a.createElement("div",{className:"ggCancel",onClick:this.ggCancel},"X"),b.a.createElement(Nn.a,{className:"ggPane",apiKey:"AIzaSyDXDefktZL_z_aT5bUbPA9V5HsPcegIIEI",streetViewPanoramaOptions:{position:{lat:e.props.graphic.selSupportGeom.y,lng:e.props.graphic.selSupportGeom.x},pov:{heading:e.props.graphic.initialBearing,pitch:-5},zoom:2},onPositionChanged:function(t){return e.posChangeHandler(t)},onPovChanged:function(t){return e.povChangeHandler(t)}}))}}]),t}(g.Component)),In=Object(T.b)(function(e){return{map:e.map,graphic:e.graphic,auth:e.auth,config:e.config}},function(e){return Object(O.b)(Object(D.a)({},Ue,Qe),e)})(_n),Pn=function(e){function t(){return Object(V.a)(this,t),Object(Jt.a)(this,Object(Xt.a)(t).apply(this,arguments))}return Object(Zt.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){return this.props.graphic.leftVisible&&"StreetSmart"===this.props.graphic.leftMode?b.a.createElement("div",{className:"LeftBar"},b.a.createElement(Cn,null)):!this.props.graphic.leftVisible||this.props.graphic.leftKey!==Ve.GOOGLE_FIRST&&this.props.graphic.leftKey!==Ve.GOOGLE_REPEAT?null:b.a.createElement("div",{className:"LeftBar"},b.a.createElement(In,null))}}]),t}(g.Component),kn=Object(T.b)(function(e){return{map:e.map,graphic:e.graphic,config:e.config}},function(e){return Object(O.b)(Object(D.a)({},Ue,Qe),e)})(Pn);a(201);function xn(){var e=Object(aa.a)(["\n  display: flex;\n  flex: 1;\n  flex-direction: row;\n  position: relative;\n  z-index: 0;\n  \n\n"]);return xn=function(){return e},e}function jn(){var e=Object(aa.a)(["\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  text-align: center;\n"]);return jn=function(){return e},e}var Gn=sa.default.div(jn()),Un=sa.default.div(xn()),Ln=function(e){function t(){return Object(V.a)(this,t),Object(Jt.a)(this,Object(Xt.a)(t).apply(this,arguments))}return Object(Zt.a)(t,e),Object(B.a)(t,[{key:"mapIfLoggedIn",value:function(){return this.props.auth.loggedIn?b.a.createElement(Un,null,b.a.createElement(kn,null),b.a.createElement(wa,{onMapClicked:this.props.selectSupport,onMapLoaded:this.props.mapLoaded,mapConfig:this.props.config.mapConfig,onMapChanged:this.props.mapChanged,is3DScene:!1}),b.a.createElement(Xa,null),b.a.createElement(wn,this.props)):b.a.createElement("div",{className:"MainNoLogIn"}," ")}},{key:"render",value:function(){return b.a.createElement(Gn,null,b.a.createElement(ba,{isLoading:this.props.mapLoaded}),b.a.createElement(mn,this.props),this.mapIfLoggedIn())}}]),t}(g.Component),Hn=Object(T.b)(function(e){return{map:e.map,auth:e.auth,config:e.config,graphic:e.graphic}},function(e){return Object(O.b)(Object(D.a)({},Ue,P),e)})(Ln),Wn=function(e){function t(){return Object(V.a)(this,t),Object(Jt.a)(this,Object(Xt.a)(t).apply(this,arguments))}return Object(Zt.a)(t,e),Object(B.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchConfig()}},{key:"componentDidUpdate",value:function(e){this.props.config&&this.props.config.loaded!==e.config.loaded&&(window.authManager=new ta(this.props.config.appId,this.props.config.portalUrl,this.props.config.jsapiUrl,this.props.config.jsapiV4,this.props.config.loginWithPopup),window.authManager.startup().then(this.props.checkAuth(this.props.config)))}},{key:"render",value:function(){var e=this.props.config.loaded,t=this.props.auth.loaded,a=this.props.auth.user&&this.props.auth.user.username||!this.props.config.portalUrl;return t&&a&&e?b.a.createElement(Hn,null):b.a.createElement(ba,{isLoaded:!1})}}]),t}(g.Component),Vn=Object(T.b)(function(e){return{auth:e.auth,config:e.config}},function(e){return Object(O.b)(Object(D.a)({},Ne,P),e)})(Wn),Bn=a(43),Fn=a.n(Bn);function qn(){var e=Object(aa.a)(["\n  html,\n  body {\n    height: 100%;\n    font-family: Avenir Next, sans-serif;\n  }\n\n  body {\n    margin: 0;\n    padding: 0;\n    font-weight: 300;\n    letter-spacing: 1px;\n    font-size: 16px;\n  }\n\n  .esri-layer-list__item{\n    &::before {\n      width: 100%;\n      left: 0;\n    }\n  }\n"]);return qn=function(){return e},e}var Yn,Kn=Object(sa.createGlobalStyle)(qn());a(202);a.d(t,"store",function(){return Qn}),Yn=zt.a;var Qn=function(){var e=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||O.d,t=Object(O.c)(f),a=Object(R.a)(),n=Object(O.e)(t,e(Object(O.a)(a)));return a.run(Yt),n}();v.a.render(b.a.createElement(T.a,{store:Qn},b.a.createElement(Kt.a,{basename:Yn},b.a.createElement(Fn.a,null,b.a.createElement(Kn,null),b.a.createElement(Qt.a,{path:"/",component:Vn})))),document.getElementById("root"))},74:function(e){e.exports={a:"http://ddotgisapp02/signworks/"}},84:function(e,t){e.exports="data:image/png;base64,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"},90:function(e,t,a){e.exports=a(208)}},[[90,1,2]]]);
//# sourceMappingURL=main.3aa2eaa9.chunk.js.map