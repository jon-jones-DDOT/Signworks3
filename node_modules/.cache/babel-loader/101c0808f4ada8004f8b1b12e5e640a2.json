{"ast":null,"code":"import _objectSpread from \"C:\\\\Projects\\\\Signworks3\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\n// Copyright 2019 Esri Licensed under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n// http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law\n// or agreed to in writing, software distributed under the License is\n// distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied. See the License for the specific language\n// governing permissions and limitations under the License.​ ACTION TYPES //\nexport var types = {\n  AUTH_SUCCESS: 'AUTH_SUCCESS',\n  AUTH_FAIL: 'AUTH_FAIL',\n  AUTH_CHECK: 'AUTH_CHECK',\n  LOGOUT: 'LOGOUT' // REDUCERS //\n\n};\nexport var initialState = {\n  user: null,\n  loaded: false,\n  loggedIn: false,\n  isEditor: false,\n  isViewer: false\n};\nexport default (function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case types.AUTH_SUCCESS:\n      var user = action.payload.user;\n      return _objectSpread({}, state, {\n        user: user,\n        loaded: true,\n        loggedIn: true,\n        isEditor: action.payload.isEditor,\n        isViewer: action.payload.isViewer\n      });\n\n    case types.AUTH_FAIL:\n      return _objectSpread({}, state, {\n        user: null,\n        loaded: true,\n        loggedIn: false\n      });\n\n    default:\n      return state;\n  }\n}); // ACTIONS //\n\nexport var actions = {\n  checkAuth: function checkAuth(config) {\n    return {\n      type: types.AUTH_CHECK,\n      payload: {\n        config: config\n      }\n    };\n  },\n  logout: function logout(url) {\n    return {\n      type: types.LOGOUT,\n      payload: {\n        portalUrl: url\n      }\n    };\n  }\n};","map":{"version":3,"sources":["C:\\Projects\\Signworks3\\src\\redux\\reducers\\auth.js"],"names":["types","AUTH_SUCCESS","AUTH_FAIL","AUTH_CHECK","LOGOUT","initialState","user","loaded","loggedIn","isEditor","isViewer","state","action","type","payload","actions","checkAuth","config","logout","url","portalUrl"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,IAAMA,KAAK,GAAG;AACjBC,EAAAA,YAAY,EAAE,cADG;AAEjBC,EAAAA,SAAS,EAAE,WAFM;AAGjBC,EAAAA,UAAU,EAAE,YAHK;AAIjBC,EAAAA,MAAM,EAAE,QAJS,CAOrB;;AAPqB,CAAd;AAQP,OAAO,IAAMC,YAAY,GAAG;AACxBC,EAAAA,IAAI,EAAE,IADkB;AAExBC,EAAAA,MAAM,EAAE,KAFgB;AAGxBC,EAAAA,QAAQ,EAAE,KAHc;AAIxBC,EAAAA,QAAQ,EAAC,KAJe;AAKxBC,EAAAA,QAAQ,EAAC;AALe,CAArB;AAQP,gBAAc,YAAkC;AAAA,MAAjCC,KAAiC,uEAAzBN,YAAyB;AAAA,MAAXO,MAAW;;AAC5C,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKb,KAAK,CAACC,YAAX;AACI,UAAMK,IAAI,GAAGM,MAAM,CAACE,OAAP,CAAeR,IAA5B;AAEA,+BACOK,KADP;AAEIL,QAAAA,IAAI,EAAJA,IAFJ;AAGIC,QAAAA,MAAM,EAAE,IAHZ;AAIIC,QAAAA,QAAQ,EAAE,IAJd;AAKIC,QAAAA,QAAQ,EAAEG,MAAM,CAACE,OAAP,CAAeL,QAL7B;AAMIC,QAAAA,QAAQ,EAACE,MAAM,CAACE,OAAP,CAAeJ;AAN5B;;AASJ,SAAKV,KAAK,CAACE,SAAX;AACI,+BACOS,KADP;AAEIL,QAAAA,IAAI,EAAE,IAFV;AAGIC,QAAAA,MAAM,EAAE,IAHZ;AAIIC,QAAAA,QAAQ,EAAE;AAJd;;AAOJ;AACI,aAAOG,KAAP;AAtBR;AAwBH,CAzBD,E,CA2BA;;AACA,OAAO,IAAMI,OAAO,GAAG;AACnBC,EAAAA,SAAS,EAAE,mBAACC,MAAD;AAAA,WAAa;AACpBJ,MAAAA,IAAI,EAAEb,KAAK,CAACG,UADQ;AAEpBW,MAAAA,OAAO,EAAE;AACLG,QAAAA,MAAM,EAANA;AADK;AAFW,KAAb;AAAA,GADQ;AAQnBC,EAAAA,MAAM,EAAE,gBAACC,GAAD;AAAA,WAAU;AACdN,MAAAA,IAAI,EAAEb,KAAK,CAACI,MADE;AAEdU,MAAAA,OAAO,EAAE;AACLM,QAAAA,SAAS,EAAED;AADN;AAFK,KAAV;AAAA;AARW,CAAhB","sourcesContent":["// Copyright 2019 Esri Licensed under the Apache License, Version 2.0 (the\r\n// \"License\"); you may not use this file except in compliance with the License.\r\n// You may obtain a copy of the License at\r\n// http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law\r\n// or agreed to in writing, software distributed under the License is\r\n// distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n// KIND, either express or implied. See the License for the specific language\r\n// governing permissions and limitations under the License.​ ACTION TYPES //\r\nexport const types = {\r\n    AUTH_SUCCESS: 'AUTH_SUCCESS',\r\n    AUTH_FAIL: 'AUTH_FAIL',\r\n    AUTH_CHECK: 'AUTH_CHECK',\r\n    LOGOUT: 'LOGOUT'\r\n}\r\n\r\n// REDUCERS //\r\nexport const initialState = {\r\n    user: null,\r\n    loaded: false,\r\n    loggedIn: false,\r\n    isEditor:false,\r\n    isViewer:false\r\n}\r\n\r\nexport default(state = initialState, action) => {\r\n    switch (action.type) {\r\n        case types.AUTH_SUCCESS:\r\n            const user = action.payload.user;\r\n\r\n            return {\r\n                ...state,\r\n                user,\r\n                loaded: true,\r\n                loggedIn: true,\r\n                isEditor: action.payload.isEditor,\r\n                isViewer:action.payload.isViewer\r\n            };\r\n\r\n        case types.AUTH_FAIL:\r\n            return {\r\n                ...state,\r\n                user: null,\r\n                loaded: true,\r\n                loggedIn: false\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n// ACTIONS //\r\nexport const actions = {\r\n    checkAuth: (config) => ({\r\n        type: types.AUTH_CHECK,\r\n        payload: {\r\n            config\r\n        }\r\n    }),\r\n\r\n    logout: (url) => ({\r\n        type: types.LOGOUT,\r\n        payload: {\r\n            portalUrl: url\r\n        }\r\n    })\r\n}\r\n"]},"metadata":{},"sourceType":"module"}