{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopDefault(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar PropTypes = _interopDefault(require('prop-types'));\n\nvar react = require('react');\n\nvar useBeforeunload = function useBeforeunload(handler) {\n  var handerRef = react.useRef(handler);\n  react.useEffect(function () {\n    handerRef.current = handler;\n  }, [handler]);\n  react.useEffect(function () {\n    var handleBeforeunload = function handleBeforeunload(event) {\n      var returnValue;\n\n      if (handerRef.current) {\n        returnValue = handerRef.current(event);\n      }\n\n      if (typeof returnValue === 'string') {\n        event.returnValue = returnValue;\n        return returnValue;\n      }\n    };\n\n    window.addEventListener('beforeunload', handleBeforeunload);\n    return function () {\n      window.removeEventListener('beforeunload', handleBeforeunload);\n    };\n  }, []);\n};\n\nvar Beforeunload = function Beforeunload(props) {\n  var _props$children = props.children,\n      children = _props$children === void 0 ? null : _props$children,\n      onBeforeunload = props.onBeforeunload;\n  useBeforeunload(onBeforeunload);\n  return children;\n};\n\nBeforeunload.propTypes = {\n  children: PropTypes.any,\n  onBeforeunload: PropTypes.func.isRequired\n};\nexports.Beforeunload = Beforeunload;\nexports.default = Beforeunload;\nexports.useBeforeunload = useBeforeunload;","map":null,"metadata":{},"sourceType":"script"}