{"ast":null,"code":"import _slicedToArray from \"C:\\\\Projects\\\\Signworks3\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport { loadModules } from 'esri-loader';\n\nvar err = function err() {\n  alert('an error occurred in JSAPI');\n};\n\nexport function getSupportById(id, layer) {\n  loadModules([\"esri/tasks/support/Query\"]).then(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 1),\n        Query = _ref2[0];\n\n    var query = new Query();\n    query.where = \"OBJECTID = \" + id;\n    query.outFields = [\"*\"];\n    query.returnGeometry = true;\n    alert('inside the JSAPI loaded');\n    layer.queryFeatures(query).then(function (results) {\n      alert('alleged results');\n\n      if (results.features.length > 0) {\n        return results.features[0];\n      } else {\n        alert('support was not retrieved');\n      }\n    }, err);\n  }).catch(function (err) {\n    // handle any errors\n    console.error(err);\n  });\n}","map":{"version":3,"sources":["C:\\Projects\\Signworks3\\src\\utils\\JSAPI.js"],"names":["loadModules","err","alert","getSupportById","id","layer","then","Query","query","where","outFields","returnGeometry","queryFeatures","results","features","length","catch","console","error"],"mappings":";AAAA,SAASA,WAAT,QAA4B,aAA5B;;AAIA,IAAMC,GAAG,GAAG,SAANA,GAAM,GAAK;AAAEC,EAAAA,KAAK,CAAE,4BAAF,CAAL;AAAqC,CAAxD;;AAEA,OAAO,SAAUC,cAAV,CAA0BC,EAA1B,EAA8BC,KAA9B,EAAqC;AAExCL,EAAAA,WAAW,CAAC,CAAS,0BAAT,CAAD,CAAX,CACCM,IADD,CACM,gBAAa;AAAA;AAAA,QAAXC,KAAW;;AACf,QAAIC,KAAK,GAAG,IAAID,KAAJ,EAAZ;AACAC,IAAAA,KAAK,CAACC,KAAN,GAAc,gBAAgBL,EAA9B;AACAI,IAAAA,KAAK,CAACE,SAAN,GAAkB,CAAC,GAAD,CAAlB;AACAF,IAAAA,KAAK,CAACG,cAAN,GAAuB,IAAvB;AACAT,IAAAA,KAAK,CAAG,yBAAH,CAAL;AACAG,IAAAA,KAAK,CAACO,aAAN,CAAoBJ,KAApB,EAA2BF,IAA3B,CACI,UAAUO,OAAV,EAAmB;AACfX,MAAAA,KAAK,CAAC,iBAAD,CAAL;;AACA,UAAIW,OAAO,CAACC,QAAR,CAAiBC,MAAjB,GAA0B,CAA9B,EAAiC;AAC9B,eAAOF,OAAO,CAACC,QAAR,CAAiB,CAAjB,CAAP;AACF,OAFD,MAEO;AACHZ,QAAAA,KAAK,CAAC,2BAAD,CAAL;AACH;AACJ,KARL,EASID,GATJ;AAaH,GApBD,EAqBCe,KArBD,CAqBO,UAAAf,GAAG,EAAI;AACZ;AACAgB,IAAAA,OAAO,CAACC,KAAR,CAAcjB,GAAd;AACD,GAxBD;AAyBH","sourcesContent":["import { loadModules } from 'esri-loader';\r\n\r\n\r\n\r\nconst err = () =>{ alert ('an error occurred in JSAPI')}\r\n\r\nexport function  getSupportById (id, layer) {\r\n   \r\n    loadModules([        \"esri/tasks/support/Query\"])\r\n    .then(([Query]) => {\r\n        let query = new Query();\r\n        query.where = \"OBJECTID = \" + id;\r\n        query.outFields = [\"*\"];\r\n        query.returnGeometry = true;\r\n        alert ( 'inside the JSAPI loaded')\r\n        layer.queryFeatures(query).then(\r\n            function (results) {\r\n                alert('alleged results')\r\n                if (results.features.length > 0) {\r\n                   return results.features[0];\r\n                } else {\r\n                    alert('support was not retrieved')\r\n                }\r\n            },\r\n            err);\r\n\r\n     \r\n     \r\n    })\r\n    .catch(err => {\r\n      // handle any errors\r\n      console.error(err);\r\n    });\r\n}\r\n "]},"metadata":{},"sourceType":"module"}