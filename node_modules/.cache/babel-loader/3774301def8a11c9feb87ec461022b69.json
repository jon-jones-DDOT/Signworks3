{"ast":null,"code":"import { loadModules } from 'esri-loader';\nexport var getSupportByID = function getSupportByID() {\n  return 5;\n};\n\nerr = function err() {\n  return 'an error';\n};\n\nexport function getSupportById(id, layer) {\n  loadModules([\"esri/tasks/support/Query\"], function (Query) {\n    alert('got to JSAPI');\n    var query = new Query();\n    query.where = \"OBJECTID = \" + id;\n    query.outFields = [\"*\"];\n    query.returnGeometry = true;\n    layer.queryFeatures(query).then(function (results) {\n      if (results.features.length > 0) {\n        return results.features[0];\n      } else {\n        alert('support was not retrieved');\n      }\n    }, err);\n  });\n}","map":{"version":3,"sources":["C:\\Projects\\Signworks3\\src\\utils\\JSAPI.js"],"names":["loadModules","getSupportByID","err","getSupportById","id","layer","Query","alert","query","where","outFields","returnGeometry","queryFeatures","then","results","features","length"],"mappings":"AAAA,SAASA,WAAT,QAA4B,aAA5B;AAEA,OAAO,IAAMC,cAAc,GAAI,SAAlBA,cAAkB,GAAW;AAAE,SAAO,CAAP;AAAS,CAA9C;;AAEPC,GAAG,GAAG,eAAK;AAAE,SAAO,UAAP;AAAkB,CAA/B;;AAEA,OAAO,SAAUC,cAAV,CAA0BC,EAA1B,EAA8BC,KAA9B,EAAqC;AACxCL,EAAAA,WAAW,CAAC,CACR,0BADQ,CAAD,EAGR,UACPM,KADO,EAEE;AACTC,IAAAA,KAAK,CAAG,cAAH,CAAL;AACQ,QAAIC,KAAK,GAAG,IAAIF,KAAJ,EAAZ;AACAE,IAAAA,KAAK,CAACC,KAAN,GAAc,gBAAgBL,EAA9B;AACAI,IAAAA,KAAK,CAACE,SAAN,GAAkB,CAAC,GAAD,CAAlB;AACAF,IAAAA,KAAK,CAACG,cAAN,GAAuB,IAAvB;AAEAN,IAAAA,KAAK,CAACO,aAAN,CAAoBJ,KAApB,EAA2BK,IAA3B,CACI,UAAUC,OAAV,EAAmB;AACf,UAAIA,OAAO,CAACC,QAAR,CAAiBC,MAAjB,GAA0B,CAA9B,EAAiC;AAC9B,eAAOF,OAAO,CAACC,QAAR,CAAiB,CAAjB,CAAP;AACF,OAFD,MAEO;AACHR,QAAAA,KAAK,CAAC,2BAAD,CAAL;AACH;AACJ,KAPL,EAQIL,GARJ;AASH,GArBU,CAAX;AAsBD","sourcesContent":["import { loadModules } from 'esri-loader';\r\n\r\nexport const getSupportByID =  function (){ return 5}\r\n\r\nerr = () =>{ return 'an error'}\r\n\r\nexport function  getSupportById (id, layer) {\r\n    loadModules([\r\n        \"esri/tasks/support/Query\"\r\n\r\n    ], (\r\nQuery\r\n    ) => {\r\nalert ( 'got to JSAPI')\r\n        let query = new Query();\r\n        query.where = \"OBJECTID = \" + id;\r\n        query.outFields = [\"*\"];\r\n        query.returnGeometry = true;\r\n\r\n        layer.queryFeatures(query).then(\r\n            function (results) {\r\n                if (results.features.length > 0) {\r\n                   return results.features[0];\r\n                } else {\r\n                    alert('support was not retrieved')\r\n                }\r\n            },\r\n            err);\r\n    });\r\n  }\r\n\r\n\r\n\r\n\r\n       "]},"metadata":{},"sourceType":"module"}