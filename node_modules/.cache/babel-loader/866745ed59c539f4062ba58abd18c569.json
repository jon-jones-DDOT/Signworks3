{"ast":null,"code":"// Copyright 2019 Esri\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//     http://www.apache.org/licenses/LICENSE-2.0\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.​\n\n/**\n * Some general functions to help with requests\n */\nimport { makeRequest } from \"./request\";\nexport function getAppConfig() {\n  return new Promise(function (resolve, reject) {\n    makeRequest({\n      url: \"signworksdev/config.json\",\n      method: \"get\"\n    }).then(function (resp) {\n      return resolve(resp);\n    });\n  });\n}\nexport function logout(portalUrl) {\n  return new Promise(function (resolve, reject) {\n    console.log('portalUrl', portalUrl);\n    makeRequest({\n      url: \"\".concat(portalUrl, \"/sharing/rest/oauth2/signout\"),\n      handleAs: \"text\"\n    }).then(function (resp) {\n      return resolve(resp);\n    }, function (error) {\n      return reject(error);\n    });\n  });\n}","map":{"version":3,"sources":["C:\\Projects\\Signworks3\\src\\services\\api.js"],"names":["makeRequest","getAppConfig","Promise","resolve","reject","url","method","then","resp","logout","portalUrl","console","log","handleAs","error"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAIA,SAASA,WAAT,QAA4B,WAA5B;AAEA,OAAO,SAASC,YAAT,GAAwB;AAC7B,SAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtCJ,IAAAA,WAAW,CAAC;AACVK,MAAAA,GAAG,4BADO;AAEVC,MAAAA,MAAM,EAAE;AAFE,KAAD,CAAX,CAGGC,IAHH,CAGQ,UAAAC,IAAI;AAAA,aAAIL,OAAO,CAACK,IAAD,CAAX;AAAA,KAHZ;AAID,GALM,CAAP;AAMD;AAED,OAAO,SAASC,MAAT,CAAgBC,SAAhB,EAA2B;AAChC,SAAO,IAAIR,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtCO,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBF,SAAzB;AACAV,IAAAA,WAAW,CAAC;AACVK,MAAAA,GAAG,YAAKK,SAAL,iCADO;AAEVG,MAAAA,QAAQ,EAAE;AAFA,KAAD,CAAX,CAGGN,IAHH,CAGQ,UAAAC,IAAI;AAAA,aAAIL,OAAO,CAACK,IAAD,CAAX;AAAA,KAHZ,EAG+B,UAAAM,KAAK;AAAA,aAAIV,MAAM,CAACU,KAAD,CAAV;AAAA,KAHpC;AAID,GANM,CAAP;AAOD","sourcesContent":["// Copyright 2019 Esri\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//     http://www.apache.org/licenses/LICENSE-2.0\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.​\n\n/**\n * Some general functions to help with requests\n */\n\nimport { makeRequest } from \"./request\";\n\nexport function getAppConfig() {\n  return new Promise((resolve, reject) => {\n    makeRequest({\n      url: `signworksdev/config.json`,\n      method: \"get\"\n    }).then(resp => resolve(resp));\n  });\n}\n\nexport function logout(portalUrl) {\n  return new Promise((resolve, reject) => {\n    console.log('portalUrl', portalUrl)\n    makeRequest({\n      url: `${portalUrl}/sharing/rest/oauth2/signout`,\n      handleAs: \"text\"\n    }).then(resp => resolve(resp), error => reject(error));\n  });\n}\n"]},"metadata":{},"sourceType":"module"}