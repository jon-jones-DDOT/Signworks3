{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Projects\\\\Signworks3\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"C:\\\\Projects\\\\Signworks3\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"C:\\\\Projects\\\\Signworks3\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Projects\\\\Signworks3\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Projects\\\\Signworks3\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Projects\\\\Signworks3\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Projects\\\\Signworks3\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Projects\\\\Signworks3\\\\src\\\\components\\\\myModules\\\\Signs\\\\SignEditor.js\";\nimport React, { Component } from 'react';\nimport Img from 'react-image';\nimport './SignEditor.css';\nimport ModalWrapper from '../Modals/ModalWrapper';\nimport { SignType, addOptionsToSelect } from '../../../SignworksJSON';\nimport Timebands from '../Timebands/Timebands';\nimport Zone from './Zone';\n\nvar Typeahead = require('react-typeahead').Typeahead;\n\nvar myRef = React.createRef();\nvar amp = /[&]/;\n\nvar SignEditor =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SignEditor, _Component);\n\n  function SignEditor(props) {\n    var _this;\n\n    _classCallCheck(this, SignEditor);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SignEditor).call(this, props));\n\n    _this.ZoneChangeHandler = function (evt) {\n      switch (evt.target.id) {\n        case \"ward1\":\n          _this.setState({\n            ward1: evt.target.value\n          });\n\n          break;\n\n        case \"anc1\":\n          _this.setState({\n            anc1: evt.target.value\n          });\n\n          break;\n\n        case \"ward2\":\n          _this.setState({\n            ward2: evt.target.value\n          });\n\n          break;\n\n        case \"anc2\":\n          _this.setState({\n            anc2: evt.target.value\n          });\n\n          break;\n\n        default:\n          break;\n      }\n    };\n\n    _this.zoneAssembler = function () {\n      var newZone = _this.state.ward1 + _this.state.anc1 + '&' + _this.state.ward2 + _this.state.anc2;\n      return newZone;\n    };\n\n    _this.saveSignEditHandler = function () {\n      var feature = _objectSpread({}, _this.state.feature);\n\n      feature.attributes.ZONEID = _this.zoneAssembler();\n      console.log('feature :', feature);\n    };\n\n    _this.cancelClickHandler = function () {\n      //this cancels the editor window\n      _this.props.modalClicked(false, null);\n    };\n\n    _this.muttSelectorOpenHandler = function () {\n      _this.setState({\n        paneSelection: 2,\n        showInfo: false\n      });\n    };\n\n    _this.muttSelectorSaveHandler = function () {\n      //\n      _this.setState({\n        paneSelection: 1,\n        showInfo: false,\n        MUTCD: _this.state.selMUTCD\n      });\n    };\n\n    _this.cancelMUTCDselectHandler = function () {\n      _this.setState({\n        paneSelection: 1,\n        showInfo: false\n      });\n    };\n\n    _this.mutcdLookUpSelectHandler = function (desc) {\n      var option = desc.split(':');\n\n      var chosenOne = _this.props.map.muttArray.find(function (element) {\n        return element.code === option[0];\n      }); //myRef.current.focus();\n\n\n      _this.setState({\n        showInfo: true,\n        selMUTCD: chosenOne\n      }); //this.muttSelectorHandler()\n\n    };\n\n    _this.cancelSelectionHandler = function (evt) {\n      _this.setState({\n        showInfo: false\n      });\n    };\n\n    _this.getOptions = function () {\n      var bob = [];\n\n      for (var i = 0; i < _this.props.map.muttArray.length; i++) {\n        bob.push(_this.props.map.muttArray[i].code + \": \" + _this.props.map.muttArray[i].name);\n      }\n\n      return bob;\n    };\n\n    _this.zoneParse = function (zoneValue) {\n      var zoneArray = [];\n\n      if (zoneValue) {\n        // set first cell\n        zoneArray[0] = zoneValue[0];\n      } else {\n        //empty zone id\n        return \"\";\n      } // set second cell\n\n\n      if (!zoneValue[1]) {\n        //just one ward no anc\n        return zoneArray;\n      } else if (amp.test(zoneValue[1])) {\n        //second digit is amp so third must be ward\n        zoneArray[2] = zoneValue[2];\n\n        if (!zoneValue[3]) {\n          // ward + amp + ward and done\n          return zoneArray;\n        } else {\n          //ward + amp + ward + anc and done\n          zoneArray[3] = zoneValue[3];\n          return zoneArray;\n        }\n      } else {\n        //ward + anc + ...\n        zoneArray[1] = zoneValue[1];\n\n        if (amp.test(zoneValue[2])) {\n          zoneArray[2] = zoneValue[3];\n\n          if (!zoneValue[4]) {\n            // ward + anc + amp + ward and done\n            return zoneArray;\n          } else {\n            // ward + anc + amp + ward + anc\n            zoneArray[3] = zoneValue[4];\n            return zoneArray;\n          }\n        } else {\n          // ward + anc and done\n          return zoneArray;\n        }\n      }\n    };\n\n    _this.signDirectionClickHandler = function (evt) {\n      _this.setState({\n        paneSelection: 3\n      });\n\n      evt.stopPropagation();\n    };\n\n    _this.signArrowSelectHandler = function (evt) {\n      var id = Number(evt.target.id.charAt(4));\n\n      _this.setState({\n        attributes: _objectSpread({}, _this.state.attributes, {\n          'SIGNARROWDIRECTION': id\n        }),\n        paneSelection: 1\n      });\n    };\n\n    _this.readMUTCDinfo = function () {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: _this.state.selMUTCD.serverImagePath,\n        className: \"SignEditorImage\",\n        alt: \"sign\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, _this.state.selMUTCD.code, \": \", _this.state.selMUTCD.name), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, \"Tags:\", _this.state.selMUTCD.tags), React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, _this.state.selMUTCD.isParking ? React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, \"Parking Sign\") : \"\", _this.state.selMUTCD.isSpeedLimit ? React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, \"Speed Limit Sign\") : \"\", _this.state.selMUTCD.isNonstandard ? React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, \"Non-Standard Sign\") : \"\", _this.state.selMUTCD.needsArrow ? React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, \"Requires Direction Arrow\") : \"\", _this.state.selMUTCD.needsTimeband ? React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }, \"Requires Time Restriction\") : \"\"));\n    };\n\n    _this.MPHSelectHandler = function (evt) {\n      _this.setState({\n        attributes: _objectSpread({}, _this.state.attributes, {\n          'SIGNNUMBER': Number(evt.target.value)\n        })\n      });\n    };\n\n    _this.statusChangeHandler = function (evt) {\n      _this.setState({\n        attributes: _objectSpread({}, _this.state.attributes, {\n          \"SIGNSTATUS\": Number(evt.target.value)\n        })\n      });\n    };\n\n    _this.signTextChangeHandler = function (evt) {\n      _this.setState({\n        attributes: _objectSpread({}, _this.state.attributes, {\n          \"SIGNTEXT\": evt.target.value\n        })\n      });\n    };\n\n    _this.timebandChangeHandler = function (evt, index, ctrl) {\n      var bands = _toConsumableArray(_this.state.timebands);\n\n      switch (ctrl) {\n        case 0:\n          bands[index].attributes.STARTDAY = evt.target.value;\n          break;\n\n        case 1:\n          bands[index].attributes.ENDDAY = evt.target.value;\n          break;\n\n        case 2:\n          bands[index].attributes.STARTTIME = evt.target.value;\n          break;\n\n        case 3:\n          bands[index].attributes.ENDTIME = evt.target.value;\n          break;\n\n        case 4:\n          bands[index].attributes.HOURLIMIT = evt.target.value;\n          break;\n\n        default:\n          break;\n      }\n\n      _this.setState({\n        timebands: _toConsumableArray(bands)\n      });\n    };\n\n    _this.timebandAddHandler = function (signId) {\n      var bands = _toConsumableArray(_this.state.timebands);\n\n      var newBand = {\n        attributes: {\n          CREATED_DATE: null,\n          CREATED_USER: null,\n          ENDDAY: 0,\n          ENDTIME: 0,\n          EXCEPTION: null,\n          GLOBALID: null,\n          HOURLIMIT: 0,\n          LAST_EDITED_DATE: null,\n          LAST_EDITED_USER: null,\n          LINKID: null,\n          OBJECTID: null,\n          ORIGIN_ID: null,\n          RESTRICTIONORDER: null,\n          RESTRICTIONSTATUS: null,\n          SIGNID: signId,\n          SPACEARROW: null,\n          SPACEID: null,\n          STARTDAY: 8,\n          STARTTIME: 0\n        }\n      };\n      bands.push(newBand);\n\n      _this.setState({\n        timebands: _toConsumableArray(bands)\n      });\n    };\n\n    _this.timebandDeleteHandler = function (index) {};\n\n    _this.signTypes = new SignType();\n    console.log('props in Sign Editor', props);\n\n    var zone = _this.zoneParse(_this.props.signs[_this.props.editSignIndex].feature.attributes.ZONE_ID);\n\n    _this.state = _objectSpread({}, _this.props.signs[_this.props.editSignIndex], _this.props.signs[_this.props.editSignIndex].feature, {\n      paneSelection: 1,\n      muttSelected: false,\n      showInfo: false,\n      selMUTCD: null,\n      ward1: zone[0],\n      anc1: zone[1],\n      ward2: zone[2],\n      anc2: zone[3]\n    });\n    return _this;\n  }\n\n  _createClass(SignEditor, [{\n    key: \"render\",\n    value: function render() {\n      var imgServerDown = window.location.origin + \"/img/PR-OTHER.png\";\n      return React.createElement(ModalWrapper, Object.assign({}, this.props, {\n        title: \"Edit Sign\",\n        width: 400,\n        showOk: this.props.showOk,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 330\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: this.state.paneSelection === 1 ? \"SignEditorOver\" : \"SignEditorUnder\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 337\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"SignEditCancel\",\n        title: \"Close Window\",\n        onClick: this.cancelClickHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 341\n        },\n        __self: this\n      }, \"X\"), React.createElement(\"div\", {\n        className: \"MUTCDdiv\",\n        onClick: this.muttSelectorOpenHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 345\n        },\n        __self: this\n      }, React.createElement(Img, {\n        src: [this.state.MUTCD.serverImagePath, imgServerDown],\n        className: \"SignEditorImage\",\n        alt: \"sign\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 346\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"InnerMUTCD\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 351\n        },\n        __self: this\n      }, this.state.MUTCD.code, \":\", this.state.MUTCD.name), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 355\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        alt: \"sign direction\",\n        src: window.location.origin + \"/img/\" + this.state.attributes.SIGNARROWDIRECTION + \".png\",\n        onClick: this.signDirectionClickHandler,\n        className: \"SignDirectionArrow\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"SignAttributes\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 364\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 365\n        },\n        __self: this\n      }, \"MPH:\", React.createElement(\"select\", {\n        value: this.state.attributes.SIGNNUMBER ? this.state.attributes.SIGNNUMBER : \"\",\n        onChange: this.MPHSelectHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 366\n        },\n        __self: this\n      }, addOptionsToSelect(this.signTypes._codedValuesSpeedLimit))), React.createElement(\"span\", {\n        className: \"ZoneSpan\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 373\n        },\n        __self: this\n      }, React.createElement(Zone, {\n        props: _objectSpread({}, this.state),\n        change: this.ZoneChangeHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 374\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"StatusDiv\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 380\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 381\n        },\n        __self: this\n      }, \"Status:\", React.createElement(\"select\", {\n        className: \"StatusSelect\",\n        value: this.state.attributes.SIGNSTATUS,\n        onChange: this.statusChangeHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 383\n        },\n        __self: this\n      }, addOptionsToSelect(this.signTypes._codedValuesSignStatus))), React.createElement(\"span\", {\n        className: \"ZoneSpan\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 390\n        },\n        __self: this\n      }, \"Sign Text:\", React.createElement(\"textarea\", {\n        value: this.state.attributes.SIGNTEXT,\n        onChange: this.signTextChangeHandler,\n        rows: \"4\",\n        className: \"SignText\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 392\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"TimebandDiv\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 400\n        },\n        __self: this\n      }, React.createElement(Timebands, {\n        bands: this.state.timebands,\n        edit: true,\n        change: this.timebandChangeHandler,\n        add: this.timebandAddHandler,\n        delete: this.timebandDeleteHandler,\n        signId: this.state.feature.attributes.GLOBALID,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 401\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"ButtonDiv\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 411\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.saveSignEditHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 412\n        },\n        __self: this\n      }, \"ADD\"), React.createElement(\"button\", {\n        onClick: this.cancelClickHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 413\n        },\n        __self: this\n      }, \"CANCEL\"))), React.createElement(\"div\", {\n        className: this.state.paneSelection === 2 ? \"SignEditorOver\" : \"SignEditorUnder\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 417\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"SignEditCancel\",\n        title: \"Close Window\",\n        onClick: this.cancelMUTCDselectHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 421\n        },\n        __self: this\n      }, \"X\"), React.createElement(\"div\", {\n        className: \"TypeAheadDiv\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 425\n        },\n        __self: this\n      }, React.createElement(Typeahead, {\n        options: this.getOptions(),\n        maxVisible: 10,\n        onOptionSelected: this.mutcdLookUpSelectHandler,\n        placeholder: \"TYPE DESCRIPTION\",\n        disabled: this.state.showInfo,\n        inputProps: {\n          'size': 70\n        },\n        ref: myRef,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 426\n        },\n        __self: this\n      })), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 438\n        },\n        __self: this\n      }, \"\\\"Enter Partial Description or MUTCD\\\"\"), React.createElement(\"button\", {\n        disabled: this.state.showInfo,\n        onClick: this.cancelMUTCDselectHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 441\n        },\n        __self: this\n      }, \"CANCEL\"), React.createElement(\"div\", {\n        className: this.state.showInfo ? \"MutcdInfoDiv\" : \"MutcdInfoDiv_hidden\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 443\n        },\n        __self: this\n      }, this.state.selMUTCD ? this.readMUTCDinfo() : null, React.createElement(\"button\", {\n        onClick: this.muttSelectorSaveHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 451\n        },\n        __self: this\n      }, \"SELECT\")), React.createElement(\"div\", {\n        className: \"SignEditButtonDiv\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 454\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.cancelClickHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 455\n        },\n        __self: this\n      }, \"CANCEL\"), React.createElement(\"button\", {\n        onClick: this.saveClickHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 456\n        },\n        __self: this\n      }, \"SAVE\"))), React.createElement(\"div\", {\n        className: this.state.paneSelection === 3 ? \"SignEditorOver\" : \"SignEditorUnder\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 459\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"SignEditCancel\",\n        title: \"Close Window\",\n        onClick: this.cancelClickHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 463\n        },\n        __self: this\n      }, \"X\"), \"SIGN ARROW DIRECTION SELECTOR TOOL\\u2122\", React.createElement(\"table\", {\n        className: \"dirSignTable\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 467\n        },\n        __self: this\n      }, React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 468\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 469\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 470\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        alt: \"6\",\n        src: \"img/6.png\",\n        className: \"dirSign\",\n        onClick: this.signArrowSelectHandler,\n        id: \"dir_6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 470\n        },\n        __self: this\n      })), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 476\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        alt: \"4\",\n        src: \"img/4.png\",\n        className: \"dirSign\",\n        onClick: this.signArrowSelectHandler,\n        id: \"dir_4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 476\n        },\n        __self: this\n      })), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 482\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        alt: \"8\",\n        src: \"img/8.png\",\n        className: \"dirSign\",\n        onClick: this.signArrowSelectHandler,\n        id: \"dir_8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 482\n        },\n        __self: this\n      }))), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 490\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 491\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        alt: \"1\",\n        src: \"img/1.png\",\n        className: \"dirSign\",\n        onClick: this.signArrowSelectHandler,\n        id: \"dir_1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 491\n        },\n        __self: this\n      })), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 497\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        alt: \"3\",\n        src: \"img/3.png\",\n        className: \"dirSign\",\n        onClick: this.signArrowSelectHandler,\n        id: \"dir_3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 497\n        },\n        __self: this\n      })), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 503\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        alt: \"2\",\n        src: \"img/2.png\",\n        className: \"dirSign\",\n        onClick: this.signArrowSelectHandler,\n        id: \"dir_2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 503\n        },\n        __self: this\n      }))), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 511\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 512\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        alt: \"7\",\n        src: \"img/7.png\",\n        className: \"dirSign\",\n        onClick: this.signArrowSelectHandler,\n        id: \"dir_7\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 512\n        },\n        __self: this\n      })), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 518\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        alt: \"5\",\n        src: \"img/5.png\",\n        className: \"dirSign\",\n        onClick: this.signArrowSelectHandler,\n        id: \"dir_5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 518\n        },\n        __self: this\n      })), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 524\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        alt: \"9\",\n        src: \"img/9.png\",\n        className: \"dirSign\",\n        onClick: this.signArrowSelectHandler,\n        id: \"dir_9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 524\n        },\n        __self: this\n      }))), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 532\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 533\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        alt: \"0\",\n        src: \"img/0.png\",\n        className: \"dirSign\",\n        onClick: this.signArrowSelectHandler,\n        id: \"dir_0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 533\n        },\n        __self: this\n      })), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 539\n        },\n        __self: this\n      }, \"(no direction)\")))), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 544\n        },\n        __self: this\n      }, \"Click A Selection to Return To The Editor\")));\n    }\n  }]);\n\n  return SignEditor;\n}(Component);\n\nexport { SignEditor as default };","map":{"version":3,"sources":["C:\\Projects\\Signworks3\\src\\components\\myModules\\Signs\\SignEditor.js"],"names":["React","Component","Img","ModalWrapper","SignType","addOptionsToSelect","Timebands","Zone","Typeahead","require","myRef","createRef","amp","SignEditor","props","ZoneChangeHandler","evt","target","id","setState","ward1","value","anc1","ward2","anc2","zoneAssembler","newZone","state","saveSignEditHandler","feature","attributes","ZONEID","console","log","cancelClickHandler","modalClicked","muttSelectorOpenHandler","paneSelection","showInfo","muttSelectorSaveHandler","MUTCD","selMUTCD","cancelMUTCDselectHandler","mutcdLookUpSelectHandler","desc","option","split","chosenOne","map","muttArray","find","element","code","cancelSelectionHandler","getOptions","bob","i","length","push","name","zoneParse","zoneValue","zoneArray","test","signDirectionClickHandler","stopPropagation","signArrowSelectHandler","Number","charAt","readMUTCDinfo","serverImagePath","tags","isParking","isSpeedLimit","isNonstandard","needsArrow","needsTimeband","MPHSelectHandler","statusChangeHandler","signTextChangeHandler","timebandChangeHandler","index","ctrl","bands","timebands","STARTDAY","ENDDAY","STARTTIME","ENDTIME","HOURLIMIT","timebandAddHandler","signId","newBand","CREATED_DATE","CREATED_USER","EXCEPTION","GLOBALID","LAST_EDITED_DATE","LAST_EDITED_USER","LINKID","OBJECTID","ORIGIN_ID","RESTRICTIONORDER","RESTRICTIONSTATUS","SIGNID","SPACEARROW","SPACEID","timebandDeleteHandler","signTypes","zone","signs","editSignIndex","ZONE_ID","muttSelected","imgServerDown","window","location","origin","showOk","SIGNARROWDIRECTION","SIGNNUMBER","_codedValuesSpeedLimit","SIGNSTATUS","_codedValuesSignStatus","SIGNTEXT","saveClickHandler"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\r\n\r\nimport Img from 'react-image'\r\nimport './SignEditor.css'\r\n\r\nimport ModalWrapper from '../Modals/ModalWrapper';\r\nimport {SignType, addOptionsToSelect} from '../../../SignworksJSON';\r\nimport Timebands from '../Timebands/Timebands';\r\nimport Zone from './Zone';\r\n\r\nlet Typeahead = require('react-typeahead').Typeahead;\r\n\r\nconst myRef = React.createRef();\r\nconst amp = /[&]/;\r\nexport default class SignEditor extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\nconsole.log('props in Sign Editor', props);\r\n        const zone = this.zoneParse(this.props.signs[this.props.editSignIndex].feature.attributes.ZONE_ID)\r\n        this.state = {\r\n\r\n            ...this.props.signs[this.props.editSignIndex],\r\n            ...this.props.signs[this.props.editSignIndex].feature,\r\n            paneSelection: 1,\r\n            muttSelected: false,\r\n            showInfo: false,\r\n            selMUTCD: null,\r\n            ward1: zone[0],\r\n            anc1: zone[1],\r\n            ward2: zone[2],\r\n            anc2: zone[3]\r\n\r\n        }\r\n\r\n    }\r\n\r\n    ZoneChangeHandler = (evt) => {\r\n\r\n        switch (evt.target.id) {\r\n            case \"ward1\":\r\n                this.setState({ward1: evt.target.value});\r\n                break;\r\n            case \"anc1\":\r\n                this.setState({anc1: evt.target.value});\r\n                break;\r\n            case \"ward2\":\r\n                this.setState({ward2: evt.target.value});\r\n                break;\r\n            case \"anc2\":\r\n                this.setState({anc2: evt.target.value});\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n    }\r\n\r\n    zoneAssembler = () =>{\r\n        const newZone = this.state.ward1 + this.state.anc1 + '&' + this.state.ward2 + this.state.anc2\r\n      \r\n        return newZone;\r\n    }\r\n    \r\n    saveSignEditHandler = () =>{\r\n        const feature = {...this.state.feature};\r\n        \r\n        feature.attributes.ZONEID = this.zoneAssembler();\r\n\r\n        console.log('feature :', feature);\r\n     }\r\n\r\n    cancelClickHandler = () => {\r\n        //this cancels the editor window\r\n        this\r\n            .props\r\n            .modalClicked(false, null)\r\n    }\r\n\r\n    muttSelectorOpenHandler = () => {\r\n\r\n        this.setState({paneSelection: 2, showInfo: false})\r\n    }\r\n\r\n    muttSelectorSaveHandler = () => {\r\n        //\r\n\r\n        this.setState({paneSelection: 1, showInfo: false, MUTCD: this.state.selMUTCD})\r\n    }\r\n\r\n    cancelMUTCDselectHandler = () => {\r\n\r\n        this.setState({paneSelection: 1, showInfo: false})\r\n    }\r\n\r\n    mutcdLookUpSelectHandler = (desc) => {\r\n\r\n        let option = desc.split(':')\r\n\r\n        let chosenOne = this\r\n            .props\r\n            .map\r\n            .muttArray\r\n            .find(function (element) {\r\n                return element.code === option[0]\r\n            })\r\n        //myRef.current.focus();\r\n        this.setState({showInfo: true, selMUTCD: chosenOne})\r\n        //this.muttSelectorHandler()\r\n    }\r\n\r\n\r\n    \r\n    cancelSelectionHandler = (evt) => {\r\n        this.setState({showInfo: false})\r\n    }\r\n\r\n    getOptions = () => {\r\n        let bob = [];\r\n        for (let i = 0; i < this.props.map.muttArray.length; i++) {\r\n            bob.push(this.props.map.muttArray[i].code + \": \" + this.props.map.muttArray[i].name)\r\n        }\r\n\r\n        return bob;\r\n\r\n    }\r\n\r\n    zoneParse = (zoneValue) => {\r\n    \r\n        let zoneArray = [];\r\n        if (zoneValue) {\r\n            // set first cell\r\n            zoneArray[0] = zoneValue[0]\r\n        } else {\r\n            //empty zone id\r\n            return \"\";\r\n        }\r\n        // set second cell\r\n        if (!zoneValue[1]) {\r\n            //just one ward no anc\r\n            return zoneArray;\r\n        } else if (amp.test(zoneValue[1])) {\r\n            //second digit is amp so third must be ward\r\n            zoneArray[2] = zoneValue[2];\r\n            if (!zoneValue[3]) {\r\n                // ward + amp + ward and done\r\n                return zoneArray;\r\n            } else {\r\n                //ward + amp + ward + anc and done\r\n                zoneArray[3] = zoneValue[3];\r\n                return zoneArray;\r\n            }\r\n        } else {\r\n            //ward + anc + ...\r\n            zoneArray[1] = zoneValue[1];\r\n            if (amp.test(zoneValue[2])) {\r\n                zoneArray[2] = zoneValue[3];\r\n                if (!zoneValue[4]) {\r\n                    // ward + anc + amp + ward and done\r\n                    return zoneArray;\r\n                } else {\r\n                    // ward + anc + amp + ward + anc\r\n                    zoneArray[3] = zoneValue[4];\r\n                    return zoneArray;\r\n                }\r\n            } else {\r\n                // ward + anc and done\r\n                return zoneArray;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    signDirectionClickHandler = (evt) => {\r\n\r\n        this.setState({paneSelection: 3})\r\n        evt.stopPropagation()\r\n    }\r\n\r\n    signArrowSelectHandler = (evt) => {\r\n        let id = Number(evt.target.id.charAt(4))\r\n    \r\n        this.setState({\r\n            attributes: {\r\n                ...this.state.attributes,\r\n                'SIGNARROWDIRECTION': id\r\n            },\r\n            paneSelection: 1\r\n        })\r\n\r\n    }\r\n\r\n    readMUTCDinfo = () => {\r\n\r\n        return (\r\n            <div>\r\n                <img\r\n                    src={this.state.selMUTCD.serverImagePath}\r\n                    className=\"SignEditorImage\"\r\n                    alt=\"sign\"></img>\r\n                <div>{this.state.selMUTCD.code}\r\n                    : {this.state.selMUTCD.name}</div>\r\n                <div>Tags:{this.state.selMUTCD.tags}</div>\r\n\r\n                <ul>\r\n                    {this.state.selMUTCD.isParking\r\n                        ? <li>Parking Sign</li>\r\n                        : \"\"}\r\n                    {this.state.selMUTCD.isSpeedLimit\r\n                        ? <li>Speed Limit Sign</li>\r\n                        : \"\"}\r\n                    {this.state.selMUTCD.isNonstandard\r\n                        ? <li>Non-Standard Sign</li>\r\n                        : \"\"}\r\n                    {this.state.selMUTCD.needsArrow\r\n                        ? <li>Requires Direction Arrow</li>\r\n                        : \"\"}\r\n                    {this.state.selMUTCD.needsTimeband\r\n                        ? <li>Requires Time Restriction</li>\r\n                        : \"\"}\r\n\r\n                </ul>\r\n\r\n            </div>\r\n        )\r\n    }\r\n\r\n    MPHSelectHandler = (evt) => {\r\n\r\n        this.setState({\r\n            attributes: {\r\n                ...this.state.attributes,\r\n                'SIGNNUMBER': Number(evt.target.value)\r\n            }\r\n        });\r\n    }\r\n\r\n    statusChangeHandler = (evt) => {\r\n\r\n        this.setState({\r\n            attributes: {\r\n                ...this.state.attributes,\r\n                \"SIGNSTATUS\": Number(evt.target.value)\r\n            }\r\n        })\r\n    }\r\n\r\n    signTextChangeHandler = (evt) => {\r\n        this.setState({\r\n            attributes: {\r\n                ...this.state.attributes,\r\n                \"SIGNTEXT\": evt.target.value\r\n            }\r\n        })\r\n    }\r\n\r\n    //Timeband Handlers\r\n\r\n    timebandChangeHandler = (evt, index, ctrl) => {\r\n\r\n        let bands = [...this.state.timebands]\r\n\r\n        switch (ctrl) {\r\n\r\n            case 0:\r\n                bands[index].attributes.STARTDAY = evt.target.value;\r\n                break;\r\n            case 1:\r\n                bands[index].attributes.ENDDAY = evt.target.value;\r\n                break;\r\n            case 2:\r\n                bands[index].attributes.STARTTIME = evt.target.value;\r\n                break;\r\n            case 3:\r\n                bands[index].attributes.ENDTIME = evt.target.value;\r\n                break;\r\n            case 4:\r\n                bands[index].attributes.HOURLIMIT = evt.target.value;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({\r\n            timebands: [...bands]\r\n        })\r\n    }\r\n\r\n    timebandAddHandler = (signId) => {\r\n      \r\n        let bands = [...this.state.timebands]\r\n        const newBand = {attributes:{\r\n            CREATED_DATE: null,\r\n            CREATED_USER: null,\r\n            ENDDAY: 0,\r\n            ENDTIME: 0,\r\n            EXCEPTION: null,\r\n            GLOBALID: null,\r\n            HOURLIMIT: 0,\r\n            LAST_EDITED_DATE: null,\r\n            LAST_EDITED_USER: null,\r\n            LINKID: null,\r\n            OBJECTID: null,\r\n            ORIGIN_ID: null,\r\n            RESTRICTIONORDER: null,\r\n            RESTRICTIONSTATUS: null,\r\n            SIGNID:signId,\r\n            SPACEARROW: null,\r\n            SPACEID: null,\r\n            STARTDAY: 8,\r\n            STARTTIME: 0\r\n        }}\r\n\r\n        bands.push(newBand);\r\n        this.setState({\r\n            timebands: [...bands]\r\n        })\r\n    }\r\n\r\n    timebandDeleteHandler = (index) => {}\r\n\r\n\r\n    signTypes = new SignType();\r\n\r\n    render() {\r\n        const imgServerDown = window.location.origin + \"/img/PR-OTHER.png\"\r\n\r\n        return (\r\n\r\n            <ModalWrapper\r\n                {...this.props}\r\n                title=\"Edit Sign\"\r\n                width\r\n                ={400}\r\n                showOk={this.props.showOk}>\r\n\r\n                <div\r\n                    className={this.state.paneSelection === 1\r\n                    ? \"SignEditorOver\"\r\n                    : \"SignEditorUnder\"}>\r\n                    <div\r\n                        className=\"SignEditCancel\"\r\n                        title=\"Close Window\"\r\n                        onClick={this.cancelClickHandler}>X</div>\r\n                    <div className=\"MUTCDdiv\" onClick={this.muttSelectorOpenHandler}>\r\n                        <Img\r\n                            src={[this.state.MUTCD.serverImagePath, imgServerDown]}\r\n                            className=\"SignEditorImage\"\r\n                            alt=\"sign\"></Img>\r\n\r\n                        <span className=\"InnerMUTCD\">\r\n                            {this.state.MUTCD.code}:{this.state.MUTCD.name}\r\n\r\n                        </span>\r\n                        <span>\r\n                            <img\r\n                                alt=\"sign direction\"\r\n                                src={window.location.origin + \"/img/\" + this.state.attributes.SIGNARROWDIRECTION + \".png\"}\r\n                                onClick={this.signDirectionClickHandler}\r\n                                className=\"SignDirectionArrow\"></img>\r\n                        </span>\r\n\r\n                    </div>\r\n                    <div className=\"SignAttributes\">\r\n                        <span>MPH:\r\n                            <select\r\n                                value={this.state.attributes.SIGNNUMBER\r\n                                ? this.state.attributes.SIGNNUMBER\r\n                                : \"\"}\r\n                                onChange={this.MPHSelectHandler}>{addOptionsToSelect(this.signTypes._codedValuesSpeedLimit)}\r\n                            </select>\r\n                        </span>\r\n                        <span className=\"ZoneSpan\">\r\n                            <Zone\r\n                                props={{\r\n                                ...this.state\r\n                            }}\r\n                                change={this.ZoneChangeHandler}></Zone>\r\n                        </span>\r\n                        <div className=\"StatusDiv\">\r\n                            <span >\r\n                                Status:\r\n                                <select\r\n                                    className=\"StatusSelect\"\r\n                                    value={this.state.attributes.SIGNSTATUS}\r\n                                    onChange={this.statusChangeHandler}>\r\n                                    {addOptionsToSelect(this.signTypes._codedValuesSignStatus)}</select>\r\n\r\n                            </span>\r\n                            <span className=\"ZoneSpan\">\r\n                                Sign Text:\r\n                                <textarea\r\n                                    value={this.state.attributes.SIGNTEXT}\r\n                                    onChange={this.signTextChangeHandler}\r\n                                    rows=\"4\"\r\n                                    className=\"SignText\"></textarea>\r\n                            </span>\r\n\r\n                        </div>\r\n                        <div className=\"TimebandDiv\">\r\n                            <Timebands\r\n                                bands={this.state.timebands}\r\n                                edit={true}\r\n                                change={this.timebandChangeHandler}\r\n                                add={this.timebandAddHandler}\r\n                                delete={this.timebandDeleteHandler}\r\n                                signId={this.state.feature.attributes.GLOBALID}></Timebands>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div className=\"ButtonDiv\">\r\n                        <button onClick={this.saveSignEditHandler}>ADD</button>\r\n                        <button onClick={this.cancelClickHandler}>CANCEL</button>\r\n                    </div>\r\n\r\n                </div>\r\n                <div\r\n                    className={this.state.paneSelection === 2\r\n                    ? \"SignEditorOver\"\r\n                    : \"SignEditorUnder\"}>\r\n                    <div\r\n                        className=\"SignEditCancel\"\r\n                        title=\"Close Window\"\r\n                        onClick={this.cancelMUTCDselectHandler}>X</div>\r\n                    <div className=\"TypeAheadDiv\">\r\n                        <Typeahead\r\n                            options={this.getOptions()}\r\n                            maxVisible={10}\r\n                            onOptionSelected={this.mutcdLookUpSelectHandler}\r\n                            placeholder=\"TYPE DESCRIPTION\"\r\n                            disabled={this.state.showInfo}\r\n                            inputProps={{\r\n                            'size': 70\r\n                        }}\r\n                            ref={myRef}/>\r\n                    </div>\r\n\r\n                    <p>\r\n                        \"Enter Partial Description or MUTCD\"</p>\r\n\r\n                    <button disabled={this.state.showInfo} onClick={this.cancelMUTCDselectHandler}>\r\n                        CANCEL</button>\r\n                    <div\r\n                        className={this.state.showInfo\r\n                        ? \"MutcdInfoDiv\"\r\n                        : \"MutcdInfoDiv_hidden\"}>\r\n\r\n                        {this.state.selMUTCD\r\n                            ? this.readMUTCDinfo()\r\n                            : null}\r\n                        <button onClick={this.muttSelectorSaveHandler}>SELECT</button>\r\n\r\n                    </div>\r\n                    <div className=\"SignEditButtonDiv\">\r\n                        <button onClick={this.cancelClickHandler}>CANCEL</button>\r\n                        <button onClick={this.saveClickHandler}>SAVE</button>\r\n                    </div>\r\n                </div>\r\n                <div\r\n                    className={this.state.paneSelection === 3\r\n                    ? \"SignEditorOver\"\r\n                    : \"SignEditorUnder\"}>\r\n                    <div\r\n                        className=\"SignEditCancel\"\r\n                        title=\"Close Window\"\r\n                        onClick={this.cancelClickHandler}>X</div>\r\n                    SIGN ARROW DIRECTION SELECTOR TOOL™<table className=\"dirSignTable\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td><img\r\n                                    alt=\"6\"\r\n                                    src=\"img/6.png\"\r\n                                    className=\"dirSign\"\r\n                                    onClick={this.signArrowSelectHandler}\r\n                                    id=\"dir_6\"/></td>\r\n                                <td><img\r\n                                    alt=\"4\"\r\n                                    src=\"img/4.png\"\r\n                                    className=\"dirSign\"\r\n                                    onClick={this.signArrowSelectHandler}\r\n                                    id=\"dir_4\"/></td>\r\n                                <td><img\r\n                                    alt=\"8\"\r\n                                    src=\"img/8.png\"\r\n                                    className=\"dirSign\"\r\n                                    onClick={this.signArrowSelectHandler}\r\n                                    id=\"dir_8\"/>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><img\r\n                                    alt=\"1\"\r\n                                    src=\"img/1.png\"\r\n                                    className=\"dirSign\"\r\n                                    onClick={this.signArrowSelectHandler}\r\n                                    id=\"dir_1\"/></td>\r\n                                <td><img\r\n                                    alt=\"3\"\r\n                                    src=\"img/3.png\"\r\n                                    className=\"dirSign\"\r\n                                    onClick={this.signArrowSelectHandler}\r\n                                    id=\"dir_3\"/></td>\r\n                                <td><img\r\n                                    alt=\"2\"\r\n                                    src=\"img/2.png\"\r\n                                    className=\"dirSign\"\r\n                                    onClick={this.signArrowSelectHandler}\r\n                                    id=\"dir_2\"/>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><img\r\n                                    alt=\"7\"\r\n                                    src=\"img/7.png\"\r\n                                    className=\"dirSign\"\r\n                                    onClick={this.signArrowSelectHandler}\r\n                                    id=\"dir_7\"/></td>\r\n                                <td><img\r\n                                    alt=\"5\"\r\n                                    src=\"img/5.png\"\r\n                                    className=\"dirSign\"\r\n                                    onClick={this.signArrowSelectHandler}\r\n                                    id=\"dir_5\"/></td>\r\n                                <td><img\r\n                                    alt=\"9\"\r\n                                    src=\"img/9.png\"\r\n                                    className=\"dirSign\"\r\n                                    onClick={this.signArrowSelectHandler}\r\n                                    id=\"dir_9\"/>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><img\r\n                                    alt=\"0\"\r\n                                    src=\"img/0.png\"\r\n                                    className=\"dirSign\"\r\n                                    onClick={this.signArrowSelectHandler}\r\n                                    id=\"dir_0\"/></td>\r\n                                <td>(no direction)\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                    <p>Click A Selection to Return To The Editor</p>\r\n                </div>\r\n            </ModalWrapper>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}