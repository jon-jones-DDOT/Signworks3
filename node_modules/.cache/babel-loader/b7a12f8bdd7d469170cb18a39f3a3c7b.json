{"ast":null,"code":"import _classCallCheck from \"C:\\\\Projects\\\\Signworks3\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Projects\\\\Signworks3\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Projects\\\\Signworks3\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Projects\\\\Signworks3\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Projects\\\\Signworks3\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Projects\\\\Signworks3\\\\src\\\\components\\\\myModules\\\\SuperQuery.js\";\nimport React, { Component } from 'react';\nimport './SuperQuery.css';\nimport ModalWrapper from './Modals/ModalWrapper';\n\nvar Typeahead = require('react-typeahead').Typeahead; //import {SupportType, addOptionsToSelect} from '../../../SignworksJSON';\n\n\nvar SuperQuery =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SuperQuery, _Component);\n\n  function SuperQuery(props) {\n    var _this;\n\n    _classCallCheck(this, SuperQuery);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SuperQuery).call(this, props));\n\n    _this.getOptions = function () {\n      var bob = [];\n\n      for (var i = 0; i < _this.props.map.muttArray.length; i++) {\n        bob.push(_this.props.map.muttArray[i].code + \": \" + _this.props.map.muttArray[i].name);\n      }\n\n      return bob;\n    };\n\n    _this.mutcdLookUpSelectHandler = function (desc) {\n      var option = desc.split(':');\n\n      _this.setState({\n        selectedMutt: option[0]\n      });\n    };\n\n    _this.cancelClickHandler = function () {\n      _this.props.modalClicked(false, null);\n    };\n\n    _this.searchClickHandler = function (evt) {\n      // when this finally breaks , remember to check and see if they updated the\n      // table to 'SIGNCODE'\n      var where = \"MUTCD='\" + _this.state.selectedMutt + \"'\";\n      var extent = _this.props.extent;\n      var layer = _this.props.config.featureURLs.superquery;\n      alert('about to search');\n\n      _this.props.querySuperQuery(where, extent, layer); // const features =\n      // queryLayers(where,extent,this.props.config.featureURLs.Superquery).next();\n      // console.log('features :', features);\n\n    };\n\n    _this.state = {\n      selectedMutt: null\n    };\n    return _this;\n  }\n\n  _createClass(SuperQuery, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(ModalWrapper, Object.assign({}, this.props, {\n        title: \"Query\",\n        width: 400,\n        showOk: this.props.showOk,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"SuperQuery\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"SuperQueryCancel\",\n        title: \"Close Window\",\n        onClick: this.cancelClickHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"X\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, \"Type a partial MUTCD and select from results\"), React.createElement(Typeahead, {\n        focus: true,\n        options: this.getOptions(),\n        maxVisible: 10,\n        onOptionSelected: this.mutcdLookUpSelectHandler,\n        placeholder: \"TYPE DESCRIPTION\",\n        inputProps: {\n          'size': 70\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      })), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, \"The Extent for the query will be the current extent of the displayed map\"), React.createElement(\"button\", {\n        onClick: this.searchClickHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"SEARCH\")));\n    }\n  }]);\n\n  return SuperQuery;\n}(Component);\n\nexport { SuperQuery as default };","map":{"version":3,"sources":["C:\\Projects\\Signworks3\\src\\components\\myModules\\SuperQuery.js"],"names":["React","Component","ModalWrapper","Typeahead","require","SuperQuery","props","getOptions","bob","i","map","muttArray","length","push","code","name","mutcdLookUpSelectHandler","desc","option","split","setState","selectedMutt","cancelClickHandler","modalClicked","searchClickHandler","evt","where","state","extent","layer","config","featureURLs","superquery","alert","querySuperQuery","showOk"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\r\nimport './SuperQuery.css'\r\nimport ModalWrapper from './Modals/ModalWrapper';\r\n\r\nlet Typeahead = require('react-typeahead').Typeahead;\r\n\r\n//import {SupportType, addOptionsToSelect} from '../../../SignworksJSON';\r\n\r\nexport default class SuperQuery extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            selectedMutt: null\r\n        }\r\n\r\n    }\r\n\r\n    getOptions = () => {\r\n        let bob = [];\r\n        for (let i = 0; i < this.props.map.muttArray.length; i++) {\r\n            bob.push(this.props.map.muttArray[i].code + \": \" + this.props.map.muttArray[i].name)\r\n        }\r\n\r\n        return bob;\r\n\r\n    }\r\n\r\n    mutcdLookUpSelectHandler = (desc) => {\r\n\r\n        let option = desc.split(':')\r\n        this.setState({selectedMutt: option[0]})\r\n\r\n    }\r\n\r\n    cancelClickHandler = () => {\r\n\r\n        this\r\n            .props\r\n            .modalClicked(false, null)\r\n    }\r\n\r\n    searchClickHandler = (evt) => {\r\n        // when this finally breaks , remember to check and see if they updated the\r\n        // table to 'SIGNCODE'\r\n\r\n        const where = \"MUTCD='\" + this.state.selectedMutt + \"'\";\r\n        const extent = this.props.extent;\r\n        const layer = this.props.config.featureURLs.superquery;\r\n        alert('about to search')\r\n        this\r\n            .props\r\n            .querySuperQuery(where, extent, layer)\r\n\r\n        // const features =\r\n        // queryLayers(where,extent,this.props.config.featureURLs.Superquery).next();\r\n        // console.log('features :', features);\r\n\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n\r\n            <ModalWrapper\r\n                {...this.props}\r\n                title=\"Query\"\r\n                width\r\n                ={400}\r\n                showOk={this.props.showOk}>\r\n\r\n                <div className=\"SuperQuery\">\r\n                    <div\r\n                        className=\"SuperQueryCancel\"\r\n                        title=\"Close Window\"\r\n                        onClick={this.cancelClickHandler}>X</div>\r\n                    <div>\r\n\r\n                        <p>Type a partial MUTCD and select from results</p>\r\n\r\n                        <Typeahead\r\n                        focus\r\n                            options={this.getOptions()}\r\n                            maxVisible={10}\r\n                            onOptionSelected={this.mutcdLookUpSelectHandler}\r\n                            placeholder=\"TYPE DESCRIPTION\"\r\n                            inputProps={{\r\n                            'size': 70\r\n                        }}/>\r\n                    </div>\r\n\r\n                    <p>\r\n                        The Extent for the query will be the current extent of the displayed map</p>\r\n                    < button onClick={this.searchClickHandler}>SEARCH</button>\r\n\r\n                </div>\r\n            </ModalWrapper>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}